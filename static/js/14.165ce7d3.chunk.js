(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{3809:function(t,e,n){"use strict";n.r(e);var r=n(3),i=n(4),a=n(6),s=n(5),o=n(7),c=n(28),u=n(9),l=n(23),p=n(0),m=n.n(p),b=n(48),h=n(3819),f=n(33),d=n(3808),y=n(3804),v=n(3816),_=n(3814),O=n(3805),j=n(3806),g=n(3815),k=n(19),E=n(169);function w(t){return new f.a(function(e){return Object(E.i)(t,function(t){e.next(t.val())})})}function P(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return t.pipe(Object(y.a)(function(t){return t.map(function(t){return function(t){return w("item/".concat(t))}(t)})}),Object(y.a)(function(t){return{length:t.length,item$$:Object(d.a)(t)}}),Object(v.a)(function(t){var r=t.length,i=t.item$$,a=Math.round,s=Math.sqrt,o=Object(k.f)(a(s(r)),1,n),c=0;return i.pipe(Object(v.a)(function(t){return t.pipe(Object(_.a)())},o),Object(O.a)(function(t,n){return c=n,e(t)}),Object(j.a)(n),Object(g.a)(),Object(y.a)(function(t){return{items:t,left:r-c-1}}))}))}var S,A,C,D=n(284),$=n(3786),M=(S=Object(l.Bind)(),A=Object(l.Bind)(),C=function(t){function e(){var t,n;Object(r.a)(this,e);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=Object(a.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(o)))).state={items:[],left:0,loading:!0},n}return Object(o.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this._subscribe()}},{key:"componentDidUpdate",value:function(t){var e=this.props.id!==t.id||this.props.filter!==t.filter;(e||this.props.amount!==t.amount)&&(this._unsubscribe(),this._subscribe(),this.setState({loading:!0})),e&&this.setState({items:[],left:0})}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,this._renderEmptyPlaceholder(),"comments"===this.props.filter?this._renderComments():this._renderSubmissions(),this.state.loading?m.a.createElement(u.m,null):null,this._renderPager())}},{key:"_renderEmptyPlaceholder",value:function(){var t=this.state,e=t.loading,n=t.items,r=this.props.t;return e||n.length?null:m.a.createElement(u.k,{container:!0,spacing:16,alignItems:"center",direction:"column"},m.a.createElement(u.k,{item:!0},m.a.createElement(u.t,{variant:"h6"},r("empty"))),m.a.createElement(u.k,{item:!0},m.a.createElement(u.t,{variant:"h4","aria-label":r("shrugLabel")},r("shrug"))))}},{key:"_renderComments",value:function(){return this.state.items.map(function(t){return m.a.createElement(D.a,{item:t,expanded:!0,key:t.id})})}},{key:"_renderSubmissions",value:function(){return this.state.items.map(function(t){return m.a.createElement(D.a,{item:t,key:t.id})})}},{key:"_renderPager",value:function(){return this.state.left?m.a.createElement(u.k,{container:!0,spacing:8,justify:"center"},m.a.createElement(u.k,{item:!0},m.a.createElement(u.b,{onClick:this._more},this.props.t("more")))):null}},{key:"_more",value:function(){var t=this.props,e=t.id,n=t.filter;this.props.history.push($.a.makeURL({filter:n,id:e,amount:this._getAmount()+30}))}},{key:"_getAmount",value:function(){return this.props.amount||30}},{key:"_predicate",value:function(t){var e=t.dead,n=t.deleted,r=t.type,i=t.by;if(e||n||!i)return!1;switch(this.props.filter){case"comments":return"comment"===r;case"submissions":return"comment"!==r&&"pollopt"!==r}}},{key:"_subscribe",value:function(){var t,e=this;this._subscription=P((t=this.props.id,w("user/".concat(t,"/submitted"))),this._predicate,this._getAmount()).subscribe(function(t){var n=t.items,r=t.left;e.setState({items:n,left:r,loading:!1})})}},{key:"_unsubscribe",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),e}(p.Component),Object(c.a)(C.prototype,"_more",[S],Object.getOwnPropertyDescriptor(C.prototype,"_more"),C.prototype),Object(c.a)(C.prototype,"_predicate",[A],Object.getOwnPropertyDescriptor(C.prototype,"_predicate"),C.prototype),C);e.default=Object(b.b)("Submissions")(Object(h.a)(M))}}]);
//# sourceMappingURL=14.165ce7d3.chunk.js.map