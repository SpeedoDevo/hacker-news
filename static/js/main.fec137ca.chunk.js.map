{"version":3,"sources":["Link/Link.tsx","Time/Time.tsx","api/firebase.ts","api/index.ts","WithUpdates/WithUpdates.tsx","EmptyPlaceholder/EmptyPlaceHolder.tsx","WithToggle/WithToggle.tsx","ContentHtml/ContentHtml.tsx","util/arrayEquals.ts","util/clamp.ts","util/interleave.ts","util/noop.ts","util/StatefulPromise.ts","util/index.ts","OnDemand/OnDemand.tsx","Root/ThemeProvider/ThemeProvider.tsx","Async/Pending.tsx","Async/Rejected.tsx","Async/Resolved.tsx","Async/Async.tsx","FullPage/FullPage.tsx","ErrorPage/ErrorPage.tsx","LoadingPage/LoadingPage.tsx","Root/LanguageProvider/LanguageProvider.tsx","i18n/index.ts","Headline/Headline.tsx","i18n/locales lazy /^/.//.*/.json$/ groupOptions: {} namespace object","../node_modules/date-fns/locale lazy /^/.//.*$/ include: /(en-GB|en-US)//index.js$/ groupOptions: {} namespace object","Breakpoint/Breakpoint.tsx","Header/Settings/Settings.tsx","Header/Header.tsx","Root/Root.tsx","routes/NotFoundRoute/NotFoundRoute.tsx","routes/RootRoute/RootRoute.tsx","App/App.tsx","index.tsx","routes/util/AbstractRouteConfig.ts","routes/util/SimpleRouteConfig.tsx","routes/util/withSuspense.tsx","routes/util/index.ts","routes/ItemRoute/ItemRoute.tsx","Root/StorageProvider/NamespacedAbstractStorage/NamespacedAbstractStorage.ts","Root/StorageProvider/LocalStorage/LocalStorage.ts","Root/StorageProvider/SessionStorage/SessionStorage.ts","Root/StorageProvider/StorageProvider.tsx","routes/UserRoute/UserRoute.tsx","routes/FeedRoute/FeedRoute.tsx"],"names":["withHref","href","external","_ref","children","other","Object","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_10___default","a","createElement","assign","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","to","activeClassName","Link","_withHref","mem","_this$props","this","props","classes","className","_this$props$external","_this$props$color","color","_this$props$variant","variant","_material_ui_core__WEBPACK_IMPORTED_MODULE_6__","classnames","link","component","Component","withStyles","_theme","textDecoration","&:hover, &:focus, &:active","outline","Time","distance","t","react__WEBPACK_IMPORTED_MODULE_5___default","dateTime","Date","toISOString","time","withNamespaces","authDomain","concat","databaseURL","api","app","initializeApp","projectId","database","ref","withUnsubscriber","path","cb","child","off","on","snap","whenExists","getItem","id","getUser","getFeed","getTopStories","getNewStories","getBestStories","getAskStories","getShowStories","getJobStories","__webpack_require__","d","__webpack_exports__","WithUpdates","state","_subscribe","prevProps","from","_unsubscribe","data","_this2","_unsubscriber","setState","val","EmptyPlaceholder","message","react__WEBPACK_IMPORTED_MODULE_6___default","_material_ui_core__WEBPACK_IMPORTED_MODULE_5__","container","spacing","alignItems","direction","item","aria-label","Toggle","Bind","_this","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","value","initial","_toggle","onChange","ContentHtml","react__WEBPACK_IMPORTED_MODULE_8___default","content","dangerouslySetInnerHTML","__html","theme","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","typography","body2","margin","width","overflow","wordBreak","& *","& p","marginTop","unit","maxWidth","& pre, & code","fontFamily","& a","palette","default","display","whiteSpace","textOverflow","verticalAlign","&:hover, &:focus","&:focus, &:active, &:visited","active","arrayEquals","left","right","length","every","v","i","clamp","n","low","arguments","undefined","high","Infinity","interleave","array","insert","res","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","push","err","return","pop","noop","StatefulPromiseState","PENDING","REJECTED","RESOLVED","StatefulPromise","classCallCheck","then","catch","StatefulPromise_StatefulPromise","OnDemand","shouldRender","fallback","react__WEBPACK_IMPORTED_MODULE_5__","nextProps","prevState","render","DEFAULT_THEME","ThemeContext","React","createContext","selectedTheme","setTheme","ThemeProvider","Memoize","storage","get","_createMuiTheme","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","Provider","_setTheme","set","type","createMuiTheme","mixins","appMaxWidth","toolbarMaxWidth","feedLink","fontWeight","&.isActive::before","indigo","A700","A100","useNextVariants","withStorage","Pending","Rejected","error","Resolved","Async","possibleConstructorReturn","getPrototypeOf","promise","result","Error","stateToChild","_getStateToChild","element","cloneElement","_this3","objectSpread","_emptyStateToChild","Children","forEach","_dieInvalidChild","FullPage","react_default","core_index_es","justify","height","ErrorPage","src_FullPage_FullPage","index_es","icon","fontSize","h1","LoadingPage","size","DEFAULT_LANGUAGE","LanguageContext","selectedLanguage","setLanguage","LanguageProvider","Once","language","src_Async_Async","_i18n","src_LoadingPage_LoadingPage","i18next","es","i18n","_getLanguageContext","src_ErrorPage_ErrorPage","changeLanguage","initLanguage","currentLocale","Promise","resolve","reject","use","read","namespace","callback","init","debug","lng","fallbackLng","defaultNS","ns","interpolation","escapeValue","formatSeparator","format","formatDistance","addSuffix","locale","formatDate","react","wait","setup","Headline","_WithUpdates_WithUpdates__WEBPACK_IMPORTED_MODULE_19__","_renderItem","subscriber","_item","_empty","Fragment","_caption","_core","_pollOption","_comment","_headerToUrlOrComments","_deriveCaption","_maybeText","_maybePollOptions","text","score","poll","count","_captionLink","ItemRoute","makeURL","comment","by","parent","dead","deleted","UserRoute","_Time_Time__WEBPACK_IMPORTED_MODULE_17__","key","_Link_Link__WEBPACK_IMPORTED_MODULE_14__","title","url","_header","inline","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","descendants","spaced","_this$props2","expanded","_ContentHtml_ContentHtml__WEBPACK_IMPORTED_MODULE_13__","expandedText","_this$props3","pollOptions","parts","map","part","Self","paddingLeft","./en/Comment.json","./en/EmptyPlaceholder.json","./en/Header.json","./en/Headline.json","./en/HeadlineList.json","./en/NotFoundRoute.json","./en/Settings.json","./en/Submissions.json","./en/Thread.json","./en/User.json","./en/shared.json","webpackAsyncContext","req","ids","e","code","keys","module","exports","./en-GB","./en-GB/","./en-GB/index","./en-GB/index.js","./en-US","./en-US/","./en-US/index","./en-US/index.js","Up","Down","_ref2","Breakpoint","up","isWidthUp","at","withWidth","Dialog","lazy","bind","Settings","WithToggle","_withToggle","open","toggle","onClick","aria-haspopup","mdi_material_ui_index_es","Desktop","Mobile","Header","toolbar","src_Breakpoint_Breakpoint","spacer","Header_Settings_Settings","contentShift","alignSelf","flexGrow","Root","StorageProvider","HashRouter","routes_NotFoundRoute_NotFoundRoute","withSuspense","Route","_render","EmptyPlaceHolder","routes_RootRoute_RootRoute","URL","Redirect","FeedRoute","feed","exact","AbstractRouteConfig","App","src_Root_Root","src_Header_Header","Switch","RootRoute","NotFoundRoute","reactDom","src_App_App","document","getElementById","_dec","_class","createClass","params","_compileURL","fn","compile","applyDecoratedDescriptor","prototype","getOwnPropertyDescriptor","SimpleRouteConfig","SimpleRouteConfig_dec","SimpleRouteConfig_class","_AbstractRouteConfig","apply","inherits","_translateParams","match","translateParams","AbstractRouteConfig_AbstractRouteConfig","SimpleRouteConfig_SimpleRouteConfig","Thread","Number","NamespacedAbstractStorage","_namespace","_cache","_decode","otherwise","_encode","JSON","parse","setItem","stringify","LocalStorage","window","localStorage","create","SessionStorage","sessionStorage","StorageType","LOCAL","SESSION","StorageContext","getStore","Cmp","Consumer","context","p","_getStore","User","HeadlineList","feeds","join","page"],"mappings":"sNAmCA,SAASA,EAASC,EAAcC,GAC9B,OAAO,SAAAC,GAKc,IAJnBC,EAImBD,EAJnBC,SACGC,EAGgBC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,cACnB,OAAOD,EACLM,EAAAC,EAAAC,cAAA,IAAAJ,OAAAK,OAAA,CAAGV,KAAMA,GAAUI,GAChBD,GAGHI,EAAAC,EAAAC,cAACE,EAAA,EAADN,OAAAK,OAAA,CAASE,GAAIZ,EAAMa,gBAAgB,YAAeT,GAC/CD,QAMHW,6MACIC,UAGiBC,IAAIjB,2EAEF,IAAAkB,EAUNC,KAAKC,MARtBC,EAFuBH,EAEvBG,QACApB,EAHuBiB,EAGvBjB,KACAG,EAJuBc,EAIvBd,SACAkB,EALuBJ,EAKvBI,UALuBC,EAAAL,EAMvBhB,gBANuB,IAAAqB,KAAAC,EAAAN,EAOvBO,aAPuB,IAAAD,EAOf,UAPeA,EAAAE,EAAAR,EAQvBS,eARuB,IAAAD,EAQb,UARaA,EASpBrB,EAToBC,OAAAC,EAAA,EAAAD,CAAAY,EAAA,wEAYzB,OACEV,EAAAC,EAAAC,cAACkB,EAAA,EAADtB,OAAAK,OAAA,CACEW,UAAWO,IAAWR,EAAQS,KAAMR,GACpCS,UAAWZ,KAAKH,UAAUf,EAAMC,IAC5B,CAAEuB,QAAOE,WACTtB,GAEHD,UAzBU4B,aA+BJC,yBA5DoB,SAACC,GAAD,MAAgC,CACjEJ,KAAM,CACJK,eAAgB,OAChBC,6BAA8B,CAC5BD,eAAgB,YAChBE,QAAS,WAuDAJ,CAAmBlB,oGC9E5BuB,mLACuB,IAAApB,EACcC,KAAKC,MAApCmB,EADiBrB,EACjBqB,SAAUC,EADOtB,EACPsB,EAElB,OACEC,EAAAhC,EAAAC,cAAA,QAAMgC,SAAU,IAAIC,KAAgB,IAAXJ,GAAiBK,eACvCJ,EAAE,sBAAuB,CAAEK,KAAMN,YANvBP,aAYJc,kBAAiBR,sFCC1BS,EAAkB,GAAAC,OADE,cACF,mBAClBC,EAAmB,WAAAD,OAAcD,GASjCG,EAPkCC,IAAIC,cAAc,CACxDL,aACAE,cACAI,UAPwB,gBAUkBC,WACZC,IAAI,MAU7B,SAASC,EACdC,EACAC,GAEA,IAAMH,EAAiBL,EAAIS,MAAMF,GAC3BG,EAAoCL,EAAIM,GAAG,QAbnD,SACEH,GAEA,OAAO,SAACI,GACFA,GAAMJ,EAAGI,IAS2CC,CAAWL,IACrE,OAAO,WACLH,EAAIK,IAAI,QAASA,IAId,SAASI,EACdC,EACAP,GAEA,OAAOF,EAAgB,QAAAR,OAASiB,GAAMP,GAGjC,SAASQ,EAAQD,EAAYP,GAClC,OAAOF,EAAgB,QAAAR,OAASiB,GAAMP,GAGxC,IAAMS,EAAsClD,IAC1C,SAACgD,GAAD,OAA4B,SAACP,GAAD,OAC1BF,EAAiBS,EAAIP,MAGZU,EAA4BD,EAAQ,cACpCE,EAA4BF,EAAQ,cACpCG,EAA6BH,EAAQ,eACrCI,EAA4BJ,EAAQ,cACpCK,EAA6BL,EAAQ,eACrCM,EAA4BN,EAAQ,cCxEjDO,EAAAC,EAAAC,EAAA,sBAAApB,IAAAkB,EAAAC,EAAAC,EAAA,sBAAAZ,IAAAU,EAAAC,EAAAC,EAAA,sBAAAV,IAAAQ,EAAAC,EAAAC,EAAA,sBAAAR,IAAAM,EAAAC,EAAAC,EAAA,sBAAAP,IAAAK,EAAAC,EAAAC,EAAA,sBAAAN,IAAAI,EAAAC,EAAAC,EAAA,sBAAAL,IAAAG,EAAAC,EAAAC,EAAA,sBAAAJ,IAAAE,EAAAC,EAAAC,EAAA,sBAAAH,oFCeMI,6MAIGC,MAA6B,sFAIlC3D,KAAK4D,wDAGmBC,GACpBA,EAAUC,OAAS9D,KAAKC,MAAM6D,OAChC9D,KAAK+D,eACL/D,KAAK4D,6DAKP5D,KAAK+D,gDAKL,OAAO9E,EAD6Be,KAAKC,MAAjChB,UACQe,KAAK2D,MAAMK,2CAGF,IAAAC,EAAAjE,KACzBA,KAAKkE,cAAgBlE,KAAKC,MAAM6D,KAC9B,SAACnB,GACCsB,EAAKE,SAAS,CAAEH,KAAMrB,EAAKyB,iDAM3BpE,KAAKkE,eAAelE,KAAKkE,uBACtBlE,KAAKkE,qBArCarD,aAyCd6C,+GChDTW,mLAGuB,IAAAtE,EACaC,KAAKC,MAAnCqE,EADiBvE,EACjBuE,QAASjD,EADQtB,EACRsB,EAEjB,OACEkD,EAAAjF,EAAAC,cAACiF,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GAAIC,WAAW,SAASC,UAAU,UACzDL,EAAAjF,EAAAC,cAACiF,EAAA,EAAD,CAAMK,MAAI,GACRN,EAAAjF,EAAAC,cAACiF,EAAA,EAAD,CAAYhE,QAAQ,MAAM8D,IAE5BC,EAAAjF,EAAAC,cAACiF,EAAA,EAAD,CAAMK,MAAI,GACRN,EAAAjF,EAAAC,cAACiF,EAAA,EAAD,CAAYhE,QAAQ,KAAKsE,aAAYzD,EAAE,eACpCA,EAAE,mBAbgBR,aAqBhBc,gBAAe,mBAAfA,CAAmC0C,uGChB5CU,KAUHC,+BATD,SAAAD,EAAY9E,GAAoB,IAAAgF,EAAA,OAAA9F,OAAA+F,EAAA,EAAA/F,CAAAa,KAAA+E,IAC9BE,EAAA9F,OAAAgG,EAAA,EAAAhG,CAAAa,KAAAb,OAAAiG,EAAA,EAAAjG,CAAA4F,GAAAM,KAAArF,KAAMC,KACD0D,MAAQ,CAAE2B,MAAOrF,EAAMsF,SAFEN,wEAM9B,OAAOjF,KAAKC,MAAMhB,SAASe,KAAK2D,MAAM2B,MAAOtF,KAAKwF,2CAI5B,IAAAvB,EAAAjE,KACtBA,KAAKmE,SACH,SAAAnF,GAAA,MAA6B,CAAEsG,OAA/BtG,EAAGsG,QACH,WACMrB,EAAKhE,MAAMwF,UAAUxB,EAAKhE,MAAMwF,SAASxB,EAAKN,MAAM2B,gBAf3CzE,0HAqBNkE,gICyBTW,mLACuB,IAAA3F,EACqBC,KAAKC,MAA3CC,EADiBH,EACjBG,QAASC,EADQJ,EACRI,UAEjB,OACEwF,EAAArG,EAAAC,cAAA,KACEY,UAAWO,IAAWR,EAAQ0F,QAASzF,GACvC0F,wBAAyB,CAAEC,OAAQ9F,KAAKC,MAAMhB,mBAP5B4B,aAaXC,yBAzDoB,SAACiF,GAAD,MAA+B,CAChEH,QAAQzG,OAAA6G,EAAA,EAAA7G,CAAA,GACH4G,EAAME,WAAWC,MADf,CAELC,OAAQ,EACRC,MAAO,OACPC,SAAU,OACVC,UAAW,aACXC,MAAO,CACLJ,OAAQ,GAEVK,MAAMrH,OAAA6G,EAAA,EAAA7G,CAAA,GACD4G,EAAME,WAAWC,MADtB,CAEEO,UAAWV,EAAMrB,QAAQgC,KAAO,EAChCC,SAAU,OACVN,SAAU,OACVC,UAAW,eAEbM,gBAAgBzH,OAAA6G,EAAA,EAAA7G,CAAA,GACX4G,EAAME,WAAWC,MADtB,CAEES,SAAU,OACVN,SAAU,OACVQ,WAAY,cAEdC,MAAM3H,OAAA6G,EAAA,EAAA7G,CAAA,GACD4G,EAAME,WAAWC,MADtB,CAEE5F,MAAOyF,EAAMgB,QAAQpG,KAAKqG,QAC1BC,QAAS,eACTN,SAAU,OACVN,SAAU,SACVa,WAAY,SACZC,aAAc,WACdC,cAAe,MACfpG,eAAgB,OAChBqG,mBAAoB,CAClBrG,eAAgB,aAElBsG,+BAAgC,CAC9BhH,MAAOyF,EAAMgB,QAAQpG,KAAK4G,OAC1BrG,QAAS,cAmBFJ,CAAmB4E,oCCxE3B,SAAS8B,EAAeC,EAAWC,GACxC,OACED,EAAKE,SAAWD,EAAMC,QACtBF,EAAKG,MAAM,SAACC,EAAMC,GAAP,OAA8BD,IAAMH,EAAMI,KCHlD,SAASC,EACdC,GAGQ,IAFRC,EAEQC,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GAFM,EACdE,EACQF,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GADOG,IAEf,OAAIL,EAAIC,EACCA,EAGLD,EAAII,EACCA,EAGFJ,ECbF,SAASM,EACdC,EACAC,GAEA,IAAMC,EAAoB,GADZC,GAAA,EAAAC,GAAA,EAAAC,OAAAT,EAAA,IAEd,QAAAU,EAAAC,EAAmBP,EAAnBQ,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA0B,KAAf7D,EAAegE,EAAAvD,MACxBmD,EAAIU,KAAKtE,EAAM2D,IAHH,MAAAY,GAAAT,GAAA,EAAAC,EAAAQ,EAAA,YAAAV,GAAA,MAAAI,EAAAO,QAAAP,EAAAO,SAAA,WAAAV,EAAA,MAAAC,GAMd,OADAH,EAAIa,MACGb,ECRF,SAASc,SCDJC,uHAUqBA,EAH/BC,YACAC,aACAC,aAGWC,EAEX,SAAAA,EAAmBtE,GAAmB,IAAAL,EAAAjF,KAAAb,OAAA0K,EAAA,EAAA1K,CAAAa,KAAA4J,GAAA5J,KAAAsF,QAAAtF,KAD/B2D,MAA8B6F,EAAqBC,QAExDnE,EACGwE,KAAK,WACJ7E,EAAKtB,MAAQ6F,EAAqBG,WAEnCI,MAAM,WACL9E,EAAKtB,MAAQ6F,EAAqBE,YCpB1CnG,EAAAC,EAAAC,EAAA,sBAAA+D,IAAAjE,EAAAC,EAAAC,EAAA,sBAAAsE,IAAAxE,EAAAC,EAAAC,EAAA,sBAAA6E,IAAA/E,EAAAC,EAAAC,EAAA,sBAAA8F,IAAAhG,EAAAC,EAAAC,EAAA,sBAAAgG,IAAAlG,EAAAC,EAAAC,EAAA,sBAAAiG,IAAAnG,EAAAC,EAAAC,EAAA,sBAAAkG,IAAApG,EAAAC,EAAAC,EAAA,sBAAAuG,6FCaMC,6MAYGtG,MAAuB,CAAEuG,cAAc,2EAEnB,IAAAnK,EACqBC,KAAKC,MAA3CkK,EADiBpK,EACjBoK,SAAUlL,EADOc,EACPd,SAElB,OACEqC,EAAAhC,EAAAC,cAAC6K,EAAA,SAAD,CAAUD,SAAUA,GAAY,IAC7BnK,KAAK2D,MAAMuG,cAAgBjL,sDAjBhCoL,EACAC,GAEA,OAAKA,EAAUJ,cAAgBG,EAAUE,OAChC,CAAEL,cAAc,GAGlB,YATYrJ,aAyBRoJ,6LCWTO,EAA6B,OACtBC,EAETC,IAAMC,cAAc,CACtBC,cAAeJ,EACfK,SAAUtB,MAGNuB,KA2BH9F,mBAQA+F,kCA/BD,SAAAD,EAAY7K,GAA2B,IAAAgF,EAAA,OAAA9F,OAAA+F,EAAA,EAAA/F,CAAAa,KAAA8K,IACrC7F,EAAA9F,OAAAgG,EAAA,EAAAhG,CAAAa,KAAAb,OAAAiG,EAAA,EAAAjG,CAAA2L,GAAAzF,KAAArF,KAAMC,KACD0D,MAAQ,CACXoC,MAAO9F,EAAM+K,QAAQC,IAAI,QAAST,IAHCvF,wEAQrC,OACE5F,EAAAC,EAAAC,cAACkB,EAAA,iBAAD,CAAkBsF,MAAO/F,KAAKkL,gBAAgBlL,KAAK2D,MAAMoC,QACvD1G,EAAAC,EAAAC,cAAC4L,EAAA,EAAD,MACA9L,EAAAC,EAAAC,cAACkL,EAAaW,SAAd,CACE9F,MAAO,CACLuF,SAAU7K,KAAKqL,UACfT,cAAe5K,KAAK2D,MAAMoC,QAG3B/F,KAAKC,MAAMhB,6CAOF8G,GACZ/F,KAAK2D,MAAMoC,QAAUA,IACvB/F,KAAKmE,SAAS,CAAE4B,UAChB/F,KAAKC,MAAM+K,QAAQM,IAAI,QAASvF,4CAKZwF,GACtB,OAAOC,yBAAe,CACpBC,OAAQ,CACNC,YAAa,IACbC,gBAAiB,KACjBC,SAAU,CACRC,WAAY,IACZC,qBAAsB,CACpBlG,QAAS,UAIfmB,QAAS,CACPwE,OACA5K,KACW,UAAT4K,EACI,CACEvE,QAAS+E,SAAOC,KAChBzE,OAAQwE,SAAO,MAEjB,CACE/E,QAAS+E,SAAOE,KAChB1E,OAAQwE,SAAO,OAGzB9F,WAAY,CACViG,iBAAiB,YA9DGxB,IAAM7J,sPAoEnBsL,gBAAY,QAAZA,CAAqBrB,8ICrHrBsB,mLAJX,OAAOpM,KAAKC,MAAMhB,gBAFA4B,aCWPwL,mLAJX,OAAOrM,KAAKC,MAAMhB,SAASe,KAAKC,MAAMqM,cAFnBzL,aCMR0L,mLAJX,OAAOvM,KAAKC,MAAMhB,SAASe,KAAKC,MAAM+D,aAFhBnD,aCuBpB2L,cAUJ,SAAAA,EAAmBvM,GAA0B,IAAAgF,EAAA9F,OAAA0K,EAAA,EAAA1K,CAAAa,KAAAwM,GAC3CvH,EAAA9F,OAAAsN,EAAA,EAAAtN,CAAAa,KAAAb,OAAAuN,EAAA,EAAAvN,CAAAqN,GAAAnH,KAAArF,KAAMC,IACN,IAAM0M,EAA8B,IAAI/C,IAAgB3J,EAAM0M,WAFnB,OAG3C1H,EAAKtB,MAAQ,CAAEgJ,WAH4B1H,mFAMZ,IAAAhB,EAAAjE,KAC/BA,KAAK2D,MAAMgJ,QAAQrH,MAChBwE,KAAK,SAAC8C,GAAD,OACJ3I,EAAKE,SAAS,CACZH,KAAM4I,MAGT7C,MAAM,SAACuC,GAAD,OACLrI,EAAKE,SAAS,CACZmI,MAAOA,aAAiBO,MAAQP,EAAQ,IAAIO,MAAJ,GAAAhL,OAAayK,yCAM3D,IAAMQ,EAAgC9M,KAAK+M,mBACvCC,EAEA,KAEJ,OAAQhN,KAAK2D,MAAMgJ,QAAQhJ,OACzB,KAAK8F,IACH,OAAOqD,EAAarD,KACtB,KAAKE,IAEH,OADAqD,EAAUF,EAAanD,MAEhBsD,uBAAaD,EAAS,CAAEhJ,KAAMhE,KAAK2D,MAAMK,OAD3B,KAEvB,KAAK0F,IAEH,OADAsD,EAAUF,EAAapD,MAEhBuD,uBAAaD,EAAS,CAAEV,MAAOtM,KAAK2D,MAAM2I,QAD5B,iDAKiB,IAAAY,EAAAlN,KACpC4M,EAAoBzN,OAAAgO,EAAA,EAAAhO,CAAA,GAAQqN,EAAMY,oBAmBxC,OAlBAC,WAASC,QAAQtN,KAAKC,MAAMhB,SAAU,SAACuD,GACrC,GAAqB,kBAAVA,EAAoB,OAAO0K,EAAKK,mBAE3C,OAAQ/K,EAAM+I,MACZ,KAAKa,EACHQ,EAAOnD,KAAWmD,EAAOnD,MAAYjH,EACrC,MACF,KAAK+J,EACHK,EAAOjD,KAAYiD,EAAOjD,MAAanH,EACvC,MACF,KAAK6J,EACHO,EAAOlD,KAAYkD,EAAOlD,MAAalH,EACvC,MACF,QACE0K,EAAKK,sBAIJX,6CAIP,MAAM,IAAIC,MAAM,0DA1EGhM,aAAjB2L,EACUJ,QAA0BA,EADpCI,EAEUH,SAA4BA,EAFtCG,EAGUD,SAA4BA,EAHtCC,EAIWY,uCACZ3D,IAAU,oBACVE,IAAW,oBACXD,IAAW,SAuED8C,gCClGTgB,mLACuB,IACjBtN,EAA+BF,KAAKC,MAApCC,QAER,OACEuN,EAAAnO,EAAAC,cAACmO,EAAA,EAAD,CACEjJ,WAAS,EACTE,WAAW,SACXgJ,QAAQ,SACRxN,UAAWD,EAAQuE,WAEnBgJ,EAAAnO,EAAAC,cAACmO,EAAA,EAAD,CAAM7I,MAAI,GAAE7E,KAAKC,MAAMhB,kBAXR4B,aAiBRC,uBAvBY,CACzB2D,UAAW,CACTmJ,OAAQ,UAqBG9M,CAAmB0M,GCV5BK,mLACuB,IACjB3N,EAAgCF,KAAKC,MAArCC,QAER,OACEuN,EAAAnO,EAAAC,cAACuO,EAAD,KACEL,EAAAnO,EAAAC,cAACwO,EAAA,EAAD,CAAa5N,UAAWD,EAAQ8N,KAAM1N,MAAM,kBAN5BO,aAYTC,uBAlBoB,SAACiF,GAAD,MAA+B,CAChEiI,KAAM,CACJC,SAAUlI,EAAME,WAAWiI,GAAGD,YAgBnBnN,CAAmB+M,0CCfnBM,mLARX,OACEV,EAAAnO,EAAAC,cAACuO,EAAD,KACEL,EAAAnO,EAAAC,cAACmO,EAAA,EAAD,CAAkBU,KAAM,aAJNvN,qDCiB1B,IAAMwN,EAA2B,QACpBC,EAET5D,IAAMC,cAAc,CACtB4D,iBAAkBF,EAClBG,YAAajF,MAGTkF,KAiDHzJ,mBACA0J,+BA7CD,SAAAD,EAAYxO,GAA8B,IAAAgF,EAAA,OAAA9F,OAAA0K,EAAA,EAAA1K,CAAAa,KAAAyO,IACxCxJ,EAAA9F,OAAAsN,EAAA,EAAAtN,CAAAa,KAAAb,OAAAuN,EAAA,EAAAvN,CAAAsP,GAAApJ,KAAArF,KAAMC,KAFD0D,MAA+B,CAAEgL,SAAUN,GAGhDpJ,EAAKtB,MAAQ,CACXgL,SAAU1O,EAAM+K,QAAQC,IAAI,WAAYoD,IAHFpJ,wEAOf,IAAAhB,EAAAjE,KACzB,OACEyN,EAAAnO,EAAAC,cAACqP,EAAD,CAAOjC,QAAS3M,KAAK6O,OACnBpB,EAAAnO,EAAAC,cAACqP,EAAMxC,QAAP,KACEqB,EAAAnO,EAAAC,cAACuP,EAAD,OAEFrB,EAAAnO,EAAAC,cAACqP,EAAMrC,SAAP,KACG,SAACwC,GACA,OACEtB,EAAAnO,EAAAC,cAACyP,EAAA,EAAD,CAAiBC,KAAMF,GACrBtB,EAAAnO,EAAAC,cAAC+O,EAAgBlD,SAAjB,CACE9F,MAAOrB,EAAKiL,oBAAoBH,IAE/B9K,EAAKhE,MAAMhB,aAMtBwO,EAAAnO,EAAAC,cAACqP,EAAMvC,SAAP,KAAiB,kBAAiBoB,EAAAnO,EAAAC,cAAC4P,EAAD,qDAKZJ,GAAoC,IAAA7B,EAAAlN,KAC9D,MAAO,CACLuO,iBAAkBvO,KAAK2D,MAAMgL,SAC7BH,YAAa,SAACG,GACRzB,EAAKvJ,MAAMgL,WAAaA,IAC1BI,EAAQK,eAAeT,GACvBzB,EAAKjN,MAAM+K,QAAQM,IAAI,WAAYqD,GACnCzB,EAAK/I,SAAS,CAAEwK,gDAStB,OC7EG,SAAeU,GACpB,IAAIC,EAEJ,OAAO,IAAIC,QACT,SAACC,EAA4BC,GAC3BV,IACGW,IAAI,CACHnE,KAAM,UACNoE,KAFG,SAGDhB,EACAiB,EACAC,GAEAtM,EAAA,KAAAA,CAAO,KAAA1B,OAAa8M,EAApB,KAAA9M,OAAgC+N,EAAhC,UACG9F,KAAK,SAAC8C,GAAD,OAAoBiD,EAAS,KAAMjD,KACxC7C,MAAM,WACL8F,EAAS,KAAM,SAItBC,KAfH3Q,OAAAgO,EAAA,EAAAhO,CAAA,CAiBM4Q,OAAO,EACPC,IAAKX,EACLY,aAAa,EACbC,UAAW,SACXC,GAAI,SACJC,cAAe,CACbC,aAAa,EACbC,gBAAiB,IACjBC,OAHa,SAGNjL,EAAgBiL,GACrB,OAAQA,GACN,IAAK,WACH,GAAqB,kBAAVjL,EACT,MAAM,IAAIuH,MAAM,0BAElB,OAAO2D,YAAe,IAAIhP,KAAK,IAAO8D,GAAQ,IAAI9D,KAAQ,CACxDiP,WAAW,EACXC,OAAQpB,IAGZ,IAAK,OACH,GAAqB,kBAAVhK,EACT,MAAM,IAAIuH,MAAM,sBAElB,OAAO8D,YAAW,IAAInP,KAAK,IAAO8D,GAAQ,KAAM,CAC9CoL,OAAQpB,IAGZ,QACE,MAAM,IAAIzC,MAAM,gCAIxB+D,MAAO,CACLC,MAAM,IAeJ,IAEN,SAACvE,GACKA,EACFmD,EAAO,IAAI5C,MAAJ,GAAAhL,OAAayK,KAEpBkD,EAAQT,OAIbrM,GAAG,kBAAmB,SAACiM,GACtBpL,EAAA,KAAAA,CAAA,KAAA1B,OAA2E8M,IACxE7E,KACC,SAAC4G,GACCpB,EAAgBoB,IAGnB3G,MAAM,SAACuC,UDVTwE,CAAM9Q,KAAK2D,MAAMgL,iBApDGjE,IAAM7J,sHAwDtBsL,gBAAY,WAAZA,CAAwBsC,0NE3BjCsC,KAiBH/L,mBACA+F,sBAMA/F,oMAvB0B,IAAAjF,EACWC,KAAKC,MAAjC4E,EADiB9E,EACjB8E,KAAM/B,EADW/C,EACX+C,GAEd,GAAIA,EACF,OACEzD,EAAAC,EAAAC,cAACyR,EAAA,EAAD,CAAalN,KAAM9D,KAAK4D,WAAWd,IAAM9C,KAAKiR,aAIlD,GAAIpM,EACF,OAAO7E,KAAKiR,YAAYpM,GAG1B,MAAM,IAAIgI,MAAM,2EAKC/J,GACjB,OAAO,SAACoO,GAAD,OACLrO,YAAQC,EAAIoO,wCAIIrM,GAClB,OAAOxF,EAAAC,EAAAC,cAAA,eAAUsF,EAAO7E,KAAKmR,MAAMtM,GAAQ7E,KAAKoR,2CAIhD,OACE/R,EAAAC,EAAAC,cAAAF,EAAAC,EAAA+R,SAAA,KACEhS,EAAAC,EAAAC,cAAC4L,EAAA,EAAD,CAAY3K,QAAQ,SAApB,OACCR,KAAKsR,SAAS,CAAC,uCAKRzM,GACZ,OAAQA,EAAK0G,MACX,IAAK,QAEL,IAAK,MAEL,IAAK,OACH,OAAOvL,KAAKuR,MAAM1M,GACpB,IAAK,UACH,OAAO7E,KAAKwR,YAAY3M,GAC1B,IAAK,UACH,OAAO7E,KAAKyR,SAAS5M,GACvB,QACE,MAAM,IAAIgI,MAAJ,qBAAAhL,OAAgCgD,EAAc0G,sCAI5C1G,GACZ,OACExF,EAAAC,EAAAC,cAAAF,EAAAC,EAAA+R,SAAA,KACGrR,KAAK0R,uBAAuB7M,GAC5B7E,KAAK2R,eAAe9M,GACpB7E,KAAK4R,WAAW/M,GAAM,GACtB7E,KAAK6R,kBAAkBhN,2CAKoC,IAA5CiN,EAA4C9S,EAA5C8S,KAAMC,EAAsC/S,EAAtC+S,MAAOC,EAA+BhT,EAA/BgT,KACzB3Q,EAAqBrB,KAAKC,MAA1BoB,EAER,OACEhC,EAAAC,EAAAC,cAAAF,EAAAC,EAAA+R,SAAA,KACEhS,EAAAC,EAAAC,cAAC4L,EAAA,EAAD,CAAY3K,QAAQ,SAASsR,GAC5B9R,KAAKsR,SAAS,CACbjQ,EAAE,SAAU,CAAE4Q,MAAOF,IACrB,IACA/R,KAAKkS,aACH,aACAC,IAAUC,QAAQ,CAAEtP,GAAIkP,IACxB3Q,EAAE,6CAOKgR,GAA6B,IACpCC,EAAiDD,EAAjDC,GAAIxP,EAA6CuP,EAA7CvP,GAAIpB,EAAyC2Q,EAAzC3Q,KAAM6Q,EAAmCF,EAAnCE,OAAQC,EAA2BH,EAA3BG,KAAMC,EAAqBJ,EAArBI,QACpC,GAAID,GAAQC,EAAS,OAAO,KAFgB,IAGpCpR,EAAqBrB,KAAKC,MAA1BoB,EAER,OACEhC,EAAAC,EAAAC,cAAAF,EAAAC,EAAA+R,SAAA,KACGrR,KAAKsR,SAAS,CACbtR,KAAKkS,aAAa,KAAMQ,IAAUN,QAAQ,CAAEtP,GAAIwP,IAAOA,GACvDtS,KAAKkS,aACH,OACAC,IAAUC,QAAQ,CAAEtP,OACpBzD,EAAAC,EAAAC,cAACoT,EAAA,EAAD,CAAMvR,SAAUM,EAAMkR,IAAI,UAE5B,IACA5S,KAAKkS,aACH,SACAC,IAAUC,QAAQ,CAAEtP,GAAIyP,IACxBlR,EAAE,aAGLrB,KAAK4R,WAAWS,GAAS,oCAM9BtT,EACAD,EACAG,GACW,IACHiB,EAA2BF,KAAKC,MAAhCC,QAER,OACEb,EAAAC,EAAAC,cAACsT,EAAA,EAAD1T,OAAAK,OAAA,CACEgB,QAAQ,QACRL,UAAWD,EAAQS,MACf,CAAE5B,WAAUD,OAAMG,6DAKG4F,GAAuB,IAC5C/B,EAA2B+B,EAA3B/B,GAAIgQ,EAAuBjO,EAAvBiO,MACZ,MAAO,QAASjO,GAAQA,EAAKkO,IACzB/S,KAAKgT,SAAQ,EAAMnO,EAAKkO,IAAKD,GAC7B9S,KAAKgT,SAAQ,EAAOb,IAAUC,QAAQ,CAAEtP,OAAOgQ,oCAGpClN,GAAiC,IACxC1F,EAA2BF,KAAKC,MAAhCC,QAER,OACEb,EAAAC,EAAAC,cAAC4L,EAAA,EAAD,CACE3K,QAAQ,UACRF,MAAM,gBACNH,UAAWD,EAAQ+S,OACnBrS,UAAU,SAET0H,YAAW1C,EAAS,2CAMzBgN,EACA9T,EACAG,GACW,IACHiB,EAA2BF,KAAKC,MAAhCC,QAER,OAAOb,EAAAC,EAAAC,cAACsT,EAAA,EAAD1T,OAAAK,OAAA,CAAMW,UAAWD,EAAQ+S,QAAY,CAAEL,MAAK9T,OAAMG,qDAGpC4F,GAAuB,IACpCxD,EAAqBrB,KAAKC,MAA1BoB,EACA0Q,EAAqClN,EAArCkN,MAAOO,EAA8BzN,EAA9ByN,GAAI5Q,EAA0BmD,EAA1BnD,KAAMoB,EAAoB+B,EAApB/B,GAEzB,OAAO9C,KAAKsR,SAAL,CACLjQ,EAAE,SAAU,CAAE4Q,MAAOF,IACrB1Q,EAAE,MACFrB,KAAKkS,aAAa,KAAMQ,IAAUN,QAAQ,CAAEtP,GAAIwP,IAAOA,GACvDtS,KAAKkS,aACH,OACAC,IAAUC,QAAQ,CAAEtP,OACpBzD,EAAAC,EAAAC,cAACoT,EAAA,EAAD,CAAMvR,SAAUM,EAAMkR,IAAI,WAPvB/Q,OAAA1C,OAAA+T,EAAA,EAAA/T,CASD,gBAAiB0F,EACjB,CACE,IACA7E,KAAKkS,aACH,WACAC,IAAUC,QAAQ,CAAEtP,OACpBzB,EAAE,WAAY,CAAE4Q,MAAOpN,EAAKsO,gBAGhC,yCAIWtO,EAAYuO,GAA4B,IAAAC,EACZrT,KAAKC,MAA1CqT,EADiDD,EACjDC,SAAUpT,EADuCmT,EACvCnT,QAElB,OAAOoT,GAAY,SAAUzO,EAC3BxF,EAAAC,EAAAC,cAACgU,EAAA,EAAD,CAAapT,UAAWiT,EAASlT,EAAQsT,aAAe,IACrD3O,EAAKiN,MAEN,+CAGoBjN,GAAuB,IAAA4O,EACFzT,KAAKC,MAA1CqT,EADuCG,EACvCH,SAAUpT,EAD6BuT,EAC7BvT,QAElB,OAAOoT,GAAY,UAAWzO,EAC5BxF,EAAAC,EAAAC,cAAA,WAASY,UAAWD,EAAQwT,aACzB7O,EAAK8O,MAAMC,IACV,SAACC,GAAD,OACExU,EAAAC,EAAAC,cAACuU,EAAD,CAAMhR,GAAI+Q,EAAMjB,IAAKiB,OAIzB,YA9MehT,oPAkNjBiT,EAAqCnS,YAAe,WAAfA,CACzCb,qBAvOiC,SAACiF,GAAD,MAA+B,CAChEpF,KAAM,CACJL,MAAOyF,EAAMgB,QAAQpG,KAAKqG,QAC1BM,+BAAgC,CAC9BhH,MAAOyF,EAAMgB,QAAQpG,KAAK4G,OAC1BrG,QAAS,SAGb+R,OAAQ,CACNhM,QAAS,gBAEXuM,aAAc,CACZ/M,UAAWV,EAAMrB,QAAQgC,MAE3BgN,YAAa,CACXK,YAAkC,EAArBhO,EAAMrB,QAAQgC,QAwN7B5F,CAAmBiQ,IAEN+C,oEC/Qf,IAAAF,EAAA,CACAI,oBAAA,CACA,KACA,GAEAC,6BAAA,CACA,KACA,GAEAC,mBAAA,CACA,KACA,GAEAC,qBAAA,CACA,KACA,GAEAC,yBAAA,CACA,KACA,IAEAC,0BAAA,CACA,KACA,IAEAC,qBAAA,CACA,KACA,IAEAC,wBAAA,CACA,KACA,IAEAC,mBAAA,CACA,KACA,IAEAC,iBAAA,CACA,KACA,IAEAC,mBAAA,CACA,KACA,KAGA,SAAAC,EAAAC,GACA,IAAAC,EAAAjB,EAAAgB,GACA,OAAAC,EAOAtR,EAAAuR,EAAAD,EAAA,IAAA/K,KAAA,WACA,IAAAhH,EAAA+R,EAAA,GACA,OAAAtR,EAAAlC,EAAAyB,EAAA,KARAyM,QAAAC,UAAA1F,KAAA,WACA,IAAAgL,EAAA,IAAAjI,MAAA,uBAAA+H,EAAA,KAEA,MADAE,EAAAC,KAAA,mBACAD,IAQAH,EAAAK,KAAA,WACA,OAAA7V,OAAA6V,KAAApB,IAEAe,EAAA7R,GAAA,KACAmS,EAAAC,QAAAP,wBChEA,IAAAf,EAAA,CACAuB,UAAA,CACA,IACA,GAEAC,WAAA,CACA,IACA,GAEAC,gBAAA,CACA,IACA,GAEAC,mBAAA,CACA,IACA,GAEAC,UAAA,CACA,IACA,GAEAC,WAAA,CACA,IACA,GAEAC,gBAAA,CACA,IACA,GAEAC,mBAAA,CACA,IACA,IAGA,SAAAf,EAAAC,GACA,IAAAC,EAAAjB,EAAAgB,GACA,OAAAC,EAOAtR,EAAAuR,EAAAD,EAAA,IAAA/K,KAAA,WACA,IAAAhH,EAAA+R,EAAA,GACA,OAAAtR,EAAAlC,EAAAyB,EAAA,KARAyM,QAAAC,UAAA1F,KAAA,WACA,IAAAgL,EAAA,IAAAjI,MAAA,uBAAA+H,EAAA,KAEA,MADAE,EAAAC,KAAA,mBACAD,IAQAH,EAAAK,KAAA,WACA,OAAA7V,OAAA6V,KAAApB,IAEAe,EAAA7R,GAAA,KACAmS,EAAAC,QAAAP,6NChCMgB,EAAkC,SAAA3W,GAAA,IACtCC,EADsCD,EACtCC,SADsC,OAEFwO,EAAAnO,EAAAC,cAAAkO,EAAAnO,EAAA+R,SAAA,KAAGpS,IACnC2W,EAAoC,SAAAC,GAAA,IACxC5W,EADwC4W,EACxC5W,SADwC,OAEJwO,EAAAnO,EAAAC,cAAAkO,EAAAnO,EAAA+R,SAAA,KAAGpS,IAEnC6W,mLACuB,IAAA7Q,EAAAjF,KACnB+V,EAAcC,oBAAUhW,KAAKC,MAAMgW,GAAIjW,KAAKC,MAAMmG,OACpDmE,EAAoB,KAuBxB,OAtBA8C,WAASC,QACPtN,KAAKC,MAAMhB,SACX,SAACuD,GACC,GAAqB,kBAAVA,EAAoB,OAAOyC,EAAKsI,mBAE3C,OAAQ/K,EAAM+I,MACZ,KAAKoK,EACCI,IACFxL,EAASA,GAAU/H,GAErB,MACF,KAAKoT,EACEG,IACHxL,EAASA,GAAU/H,GAErB,MACF,QACEyC,EAAKsI,sBAKNhD,6CAGP,MAAM,IAAIsC,MAAM,oEA7BKhM,aAiCV1B,SAAOK,OAAO0W,MAAYJ,GAAa,CAAEH,KAAIC,2DCnDtDO,EAASC,eAAK,kBAAM7S,EAAAuR,EAAA,GAAAhL,KAAAvG,EAAA8S,KAAA,cAEpBC,KAKHtR,oMAHC,OAAOyI,EAAAnO,EAAAC,cAACgX,EAAA,EAAD,CAAYhR,SAAS,GAAQvF,KAAKwW,iDAIvBC,EAAeC,GACjC,OACEjJ,EAAAnO,EAAAC,cAAAkO,EAAAnO,EAAA+R,SAAA,KACE5D,EAAAnO,EAAAC,cAACwO,EAAA,EAAD,CACE4I,QAASD,EACTpW,MAAM,UACNwE,aAAY9E,KAAKC,MAAMoB,EAAE,YACzBuV,iBAAA,GAEAnJ,EAAAnO,EAAAC,cAACsX,EAAA,EAAD,OAEFpJ,EAAAnO,EAAAC,cAAC0K,EAAA,EAAD,CAAUM,OAAQkM,GAChBhJ,EAAAnO,EAAAC,cAAC4W,EAAD,CAAQM,KAAMA,EAAMC,OAAQA,aAlBf7V,kIAyBRc,cAAe,WAAfA,CAA2B2U,GCvBpCQ,EAAUV,eAAK,kBAAM7S,EAAAuR,EAAA,GAAAhL,KAAAvG,EAAA8S,KAAA,cACrBU,EAASX,eAAK,kBAAM7S,EAAAuR,EAAA,GAAAhL,KAAAvG,EAAA8S,KAAA,cAkBpBW,mLACuB,IACjB9W,EAA6BF,KAAKC,MAAlCC,QAER,OACEuN,EAAAnO,EAAAC,cAAAkO,EAAAnO,EAAA+R,SAAA,KACE5D,EAAAnO,EAAAC,cAACwO,EAAA,EAAD,KACEN,EAAAnO,EAAAC,cAACwO,EAAA,EAAD,CAAS5N,UAAWD,EAAQ+W,SAC1BxJ,EAAAnO,EAAAC,cAACqR,EAAA,SAAD,CAAUzG,SAAS,IACjBsD,EAAAnO,EAAAC,cAAC2X,EAAD,CAAYjB,GAAG,MACbxI,EAAAnO,EAAAC,cAAC2X,EAAWvB,GAAZ,KACElI,EAAAnO,EAAAC,cAACuX,EAAD,OAEFrJ,EAAAnO,EAAAC,cAAC2X,EAAWtB,KAAZ,KACEnI,EAAAnO,EAAAC,cAACwX,EAAD,SAINtJ,EAAAnO,EAAAC,cAAA,QAAMY,UAAWD,EAAQiX,SACzB1J,EAAAnO,EAAAC,cAAC6X,EAAD,QAGJ3J,EAAAnO,EAAAC,cAAA,QAAMY,UAAWD,EAAQmX,uBAtBZxW,aA4BNC,uBA3CoB,SAACiF,GAAD,MAA+B,CAChEkR,QAAS,CACPtQ,SAAUZ,EAAM0F,OAAOE,gBACvB2L,UAAW,SACXlR,MAAO,QAET+Q,OAAQ,CACNI,SAAU,GAEZF,aAAalY,OAAAgO,EAAA,EAAAhO,CAAA,GACR4G,EAAM0F,OAAOwL,QADN,CAEVhQ,QAAS,YAgCEnG,CAAmBkW,uCCxCnBQ,mLAZX,OACE/J,EAAAnO,EAAAC,cAACkY,EAAA,EAAD,KACEhK,EAAAnO,EAAAC,cAACmY,EAAA,EAAD,KACEjK,EAAAnO,EAAAC,cAACuL,EAAA,EAAD,KACE2C,EAAAnO,EAAAC,cAACkP,EAAA,EAAD,KAAmBzO,KAAKC,MAAMhB,oBANvB4B,wDCqBJ8W,EAAA,sGAlBX,MAAM,IAAI9K,MAAM,qDAIhB,OAAO+K,YACLnK,EAAAnO,EAAAC,cAACsY,EAAA,EAAD,KACEpK,EAAAnO,EAAAC,cAACyP,EAAA,EAAD,CAAoBmB,GAAI,iBACrBnQ,KAAK8X,2CAMEzW,GACd,OAAOoM,EAAAnO,EAAAC,cAACwY,EAAA,EAAD,CAAkBzT,QAASjD,EAAE,+BCTzB2W,EAAA,+MARHC,IAAc,yEAEtB,OACExK,EAAAnO,EAAAC,cAAC2Y,EAAA,EAAD,CAAUpU,KAAM9D,KAAKiY,IAAKvY,GAAIyY,IAAU/F,QAAQ,CAAEgG,KAAM,QAAUC,OAAK,WAJrDC,cC0BTC,2LAjBX,OACE9K,EAAAnO,EAAAC,cAACiZ,EAAD,KACE/K,EAAAnO,EAAAC,cAACkZ,EAAD,MACAhL,EAAAnO,EAAAC,cAAA,YACEkO,EAAAnO,EAAAC,cAACmZ,EAAA,EAAD,KACGC,EAAUjJ,MACVyI,IAAUzI,MACVyC,IAAUzC,MACVgD,IAAUhD,MACVkJ,EAAclJ,gBAXT7O,cCFlBgY,IAAStO,OAAOkD,EAAAnO,EAAAC,cAACuZ,EAAD,MAASC,SAASC,eAAe,oGCJ3BV,GAAtBW,EAWGlO,oBAXHmO,EAAA,oBAAAZ,IAAAnZ,OAAA0K,EAAA,EAAA1K,CAAAa,KAAAsY,GAAA,OAAAnZ,OAAAga,EAAA,EAAAha,CAAAmZ,EAAA,EAAA1F,IAAA,UAAAtN,MAAA,SAMiB8T,GAEb,OAD4BpZ,KAAKqZ,YAAYrZ,KAAKiY,IAC3CqB,CAAGF,KARd,CAAAxG,IAAA,cAAAtN,MAAA,SAYsB2S,GAClB,OAAOsB,kBAAQtB,OAbnBK,EAAA,GAAAnZ,OAAAqa,EAAA,GAAAN,EAAAO,UAAA,eAAAR,GAAA9Z,OAAAua,yBAAAR,EAAAO,UAAA,eAAAP,EAAAO,WAAAP,kDCIsBS,GAAtBC,EASG5U,iBATH6U,EAAA,SAAAC,GAAA,SAAAH,IAAA,OAAAxa,OAAA0K,EAAA,EAAA1K,CAAAa,KAAA2Z,GAAAxa,OAAAsN,EAAA,EAAAtN,CAAAa,KAAAb,OAAAuN,EAAA,EAAAvN,CAAAwa,GAAAI,MAAA/Z,KAAAkI,YAAA,OAAA/I,OAAA6a,EAAA,EAAA7a,CAAAwa,EAAAG,GAAA3a,OAAAga,EAAA,EAAAha,CAAAwa,EAAA,EAAA/G,IAAA,MAAAtN,MAAA,WAII,OAAOmI,EAAAnO,EAAAC,cAACsY,EAAA,EAAD,CAAOvV,KAAMtC,KAAKiY,KAAMjY,KAAKia,oBAJxC,CAAArH,IAAA,mBAAAtN,MAAA,SAAAtG,GAYuD,IADnDkb,EACmDlb,EADnDkb,MAEA,OAAOA,EAAQla,KAAKma,gBAAgBD,EAAMd,QAAU,SAbxDO,EAAA,CAEUrB,GAFVnZ,OAAAqa,EAAA,GAAAK,EAAAJ,UAAA,oBAAAG,GAAAza,OAAAua,yBAAAG,EAAAJ,UAAA,oBAAAI,EAAAJ,WAAAI,WCPO,SAASjC,EACd3Y,GAEW,IADXkL,EACWjC,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GADWuF,EAAAnO,EAAAC,cAACwO,EAAA,EAAD,MAEtB,OAAON,EAAAnO,EAAAC,cAACqR,EAAA,SAAa,CAAE3R,WAAUkL,aCPnC5G,EAAAC,EAAAC,EAAA,sBAAA2W,IAAA7W,EAAAC,EAAAC,EAAA,sBAAA4W,IAAA9W,EAAAC,EAAAC,EAAA,sBAAAmU,oGCKM0C,EAASlE,eAAK,kBAAM7S,EAAAuR,EAAA,IAAAhL,KAAAvG,EAAA8S,KAAA,cAMpBlE,6MACM8F,IAAc,oGACgD,IAA5CnV,EAA4C9D,EAA5C8D,GAC1B,OAAO8U,YAAatW,EAAAhC,EAAAC,cAAC+a,EAAD,CAAQxX,GAAIyX,OAAOzX,aAHnB6W,KAOTlW,EAAA,MAAI0O,qJCsBJqI,aAjCb,SAAAA,EAAoBC,GAAqBtb,OAAA0K,EAAA,EAAA1K,CAAAa,KAAAwa,GAAAxa,KAAAya,aACvCza,KAAK0a,OAAS1a,KAAK2a,0DAKnB/H,EACAgI,GAEA,OAAQ5a,KAAK0a,OAAO9H,IAAQgI,8BAGEhI,EAAUtN,GACxCtF,KAAK0a,OAAO9H,GAAOtN,EACnBtF,KAAK6a,yCAG4BjI,UAC1B5S,KAAK0a,OAAO9H,GACnB5S,KAAK6a,4CAML,OAAOC,KAAKC,MAAM/a,KAAKgL,QAAQnI,QAAQ7C,KAAKya,aAAe,wCAI3Dza,KAAKgL,QAAQgQ,QAAQhb,KAAKya,WAAYK,KAAKG,UAAUjb,KAAK0a,kBC/BxDQ,kLAUF,IAAKC,OAAOC,aACV,MAAM,IAAIvO,MAAM,oBAGlB,OAAOuO,oBAdqCZ,GAA1CU,EACUG,OAAmCvb,IAG9C,SAAqB8P,GACpB,OAAO,IAAIsL,EAAatL,KAafsL,QClBTI,kLAUF,IAAKH,OAAOI,eACV,MAAM,IAAI1O,MAAM,sBAGlB,OAAO0O,sBAduCf,GAA5Cc,EACUD,OAAmCvb,IAG9C,SAAqB8P,GACpB,OAAO,IAAI0L,EAAe1L,KAajB0L,QCPHE,EDOGF,6ECPHE,mEAI0CA,EAAvCC,UAAOC,YAShBC,EAA8ChR,wBAAc,CAChEiR,SAAUrS,MA0BL,SAAS4C,EACdyD,EACArE,GAIA,OAAQ,SACNsQ,GAEA,OAAO,SAAwB5b,GAC7B,OACEwN,EAAAnO,EAAAC,cAACoc,EAAeG,SAAhB,KACG,SAACC,GACA,IAAMC,EAAI7c,OAAAgO,EAAA,EAAAhO,CAAA,GACLc,EADK,CAER+K,QAAS+Q,EAAQH,SAAShM,EAAWrE,KAEvC,OAAOkC,EAAAnO,EAAAC,cAACsc,EAAQG,WAQtBvE,KAaHzS,oMAXC,OACEyI,EAAAnO,EAAAC,cAACoc,EAAevQ,SAAhB,CACE9F,MAAO,CACLsW,SAAU5b,KAAKic,YAGhBjc,KAAKC,MAAMhB,4CAOhB2Q,GAGA,OADY1H,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GADQuT,GAGlB,KAAKA,EACH,OAAOP,EAAaG,OAAOzL,GAC7B,KAAK8L,EACH,OAAOJ,EAAeD,OAAOzL,WAtBP/O,8HA2Bf4W,sGCvGTyE,EAAO9F,eAAK,kBAAM7S,EAAAuR,EAAA,IAAAhL,KAAAvG,EAAA8S,KAAA,cAMlB3D,6MACMuF,IAAc,8FACgD,IAA5CnV,EAA4C9D,EAA5C8D,GAC1B,OAAO8U,YAAatW,EAAAhC,EAAAC,cAAC2c,EAAD,CAAMpZ,GAAIA,YAHV6W,KAOTlW,EAAA,MAAIiP,kICdbyJ,EAAe/F,eAAK,kBAAM7S,EAAAuR,EAAA,IAAAhL,KAAAvG,EAAA8S,KAAA,cAGnB+F,EAAoB,CAAC,MAAO,MAAO,OAAQ,MAAO,OAAQ,OAOjEjE,6MACMF,qBAAwBmE,EAAMC,KAAK,yGAIJ,IAFvCjE,EAEuCpZ,EAFvCoZ,KACAkE,EACuCtd,EADvCsd,KAEA,OAAO1E,YAAatW,EAAAhC,EAAAC,cAAC4c,EAAD,CAAc/D,KAAMA,EAAMkE,KAAM/B,OAAO+B,GAAQ,eAN/C3C,KAUTlW,EAAA,MAAI0U","file":"static/js/main.fec137ca.chunk.js","sourcesContent":["import { Typography } from '@material-ui/core'\nimport {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  WithStyles,\n  withStyles,\n} from '@material-ui/core/styles'\nimport { TypographyProps } from '@material-ui/core/Typography'\nimport classnames from 'classnames'\nimport mem from 'mem'\nimport React, {\n  Component,\n  FunctionComponent,\n  ReactElement,\n  ReactNode,\n} from 'react'\nimport { NavLink } from 'react-router-dom'\n\ninterface LinkProps extends TypographyProps {\n  external?: boolean\n  href: string\n  children: ReactNode\n}\n\nconst styles: StyleRulesCallback = (_theme: Theme): StyleRules => ({\n  link: {\n    textDecoration: 'none',\n    '&:hover, &:focus, &:active': {\n      textDecoration: 'underline',\n      outline: 'none',\n    },\n  },\n})\n\nfunction withHref(href: string, external: boolean): FunctionComponent {\n  return function Anchor({\n    children,\n    ...other\n  }: {\n    children?: ReactNode\n  }): ReactElement<{}> {\n    return external ? (\n      <a href={href} {...other}>\n        {children}\n      </a>\n    ) : (\n      <NavLink to={href} activeClassName=\"isActive\" {...other}>\n        {children}\n      </NavLink>\n    )\n  }\n}\n\nclass Link extends Component<LinkProps & WithStyles> {\n  private _withHref: (\n    href: string,\n    external: boolean,\n  ) => FunctionComponent = mem(withHref)\n\n  public render(): ReactNode {\n    const {\n      classes,\n      href,\n      children,\n      className,\n      external = false,\n      color = 'inherit',\n      variant = 'inherit',\n      ...other\n    }: Link['props'] = this.props\n\n    return (\n      <Typography\n        className={classnames(classes.link, className)}\n        component={this._withHref(href, external)}\n        {...{ color, variant }}\n        {...other}\n      >\n        {children}\n      </Typography>\n    )\n  }\n}\n\nexport default withStyles(styles)(Link)\n","import React, { Component, ReactNode } from 'react'\nimport { withNamespaces, WithNamespaces } from 'react-i18next'\n\ninterface TimeProps {\n  distance: number\n}\n\nclass Time extends Component<TimeProps & WithNamespaces> {\n  public render(): ReactNode {\n    const { distance, t }: this['props'] = this.props\n\n    return (\n      <time dateTime={new Date(distance * 1000).toISOString()}>\n        {t('shared:timeDistance', { time: distance })}\n      </time>\n    )\n  }\n}\n\nexport default withNamespaces()(Time)\n","import app from '@firebase/app'\nimport { FirebaseApp } from '@firebase/app-types'\nimport '@firebase/database'\nimport { FirebaseDatabase, Reference } from '@firebase/database-types'\nimport mem from 'mem'\nimport { Optional } from '../types'\nimport {\n  Feed,\n  FeedId,\n  FeedReader,\n  Item,\n  ItemId,\n  Snapshot,\n  Subscriber,\n  Unsubscriber,\n  User,\n  UserId,\n} from './types'\n\nconst projectId: string = 'hacker-news'\nconst authDomain: string = `${projectId}.firebaseio.com`\nconst databaseURL: string = `https://${authDomain}`\n\nconst firebase: Required<FirebaseApp> = app.initializeApp({\n  authDomain,\n  databaseURL,\n  projectId,\n}) as Required<FirebaseApp>\n\nconst database: FirebaseDatabase = firebase.database()\nconst api: Reference = database.ref('v0')\n\nfunction whenExists<T>(\n  cb: Subscriber<T>,\n): (snap: Optional<Snapshot<T>>) => void {\n  return (snap: Optional<Snapshot<T>>): void => {\n    if (snap) cb(snap)\n  }\n}\n\nexport function withUnsubscriber<T>(\n  path: string,\n  cb: Subscriber<T>,\n): Unsubscriber {\n  const ref: Reference = api.child(path)\n  const off: ReturnType<Reference['off']> = ref.on('value', whenExists(cb))\n  return (): void => {\n    ref.off('value', off)\n  }\n}\n\nexport function getItem<T extends Item>(\n  id: ItemId,\n  cb: Subscriber<T>,\n): Unsubscriber {\n  return withUnsubscriber(`item/${id}`, cb)\n}\n\nexport function getUser(id: UserId, cb: Subscriber<User>): Unsubscriber {\n  return withUnsubscriber(`user/${id}`, cb)\n}\n\nconst getFeed: (id: FeedId) => FeedReader = mem(\n  (id: FeedId): FeedReader => (cb: Subscriber<Feed>): Unsubscriber =>\n    withUnsubscriber(id, cb),\n)\n\nexport const getTopStories: FeedReader = getFeed('topstories')\nexport const getNewStories: FeedReader = getFeed('newstories')\nexport const getBestStories: FeedReader = getFeed('beststories')\nexport const getAskStories: FeedReader = getFeed('askstories')\nexport const getShowStories: FeedReader = getFeed('showstories')\nexport const getJobStories: FeedReader = getFeed('jobstories')\n","export * from './firebase'\n","import { Component, ReactNode } from 'react'\nimport { Snapshot, Subscriber, Unsubscriber } from '../api/types'\nimport { Optional } from '../types'\n\nexport type WithUpdatesFrom<T> = (subscriber: Subscriber<T>) => Unsubscriber\n\ninterface WithUpdatesProps<T> {\n  from: WithUpdatesFrom<T>\n  children(data?: Optional<T>): ReactNode\n}\n\ninterface WithUpdatesState<T> {\n  data?: Optional<T>\n}\n\nclass WithUpdates<T> extends Component<\n  WithUpdatesProps<T>,\n  WithUpdatesState<T>\n> {\n  public state: WithUpdatesState<T> = {}\n  private _unsubscriber?: () => void\n\n  public componentDidMount(): void {\n    this._subscribe()\n  }\n\n  public componentDidUpdate(prevProps: WithUpdatesProps<T>): void {\n    if (prevProps.from !== this.props.from) {\n      this._unsubscribe()\n      this._subscribe()\n    }\n  }\n\n  public componentWillUnmount(): void {\n    this._unsubscribe()\n  }\n\n  public render(): ReactNode {\n    const { children }: this['props'] = this.props\n    return children(this.state.data)\n  }\n\n  private _subscribe(): void {\n    this._unsubscriber = this.props.from(\n      (snap: Snapshot<T>): void => {\n        this.setState({ data: snap.val() })\n      },\n    )\n  }\n\n  private _unsubscribe(): void {\n    if (this._unsubscriber) this._unsubscriber()\n    delete this._unsubscriber\n  }\n}\n\nexport default WithUpdates\n","import { Grid, Typography } from '@material-ui/core'\nimport React, { Component, ReactNode } from 'react'\nimport { withNamespaces, WithNamespaces } from 'react-i18next'\n\ninterface EmptyPlaceholderProps {\n  message: string\n}\n\nclass EmptyPlaceholder extends Component<\n  EmptyPlaceholderProps & WithNamespaces\n> {\n  public render(): ReactNode {\n    const { message, t }: this['props'] = this.props\n\n    return (\n      <Grid container spacing={16} alignItems=\"center\" direction=\"column\">\n        <Grid item>\n          <Typography variant=\"h6\">{message}</Typography>\n        </Grid>\n        <Grid item>\n          <Typography variant=\"h4\" aria-label={t('shrugLabel')}>\n            {t('shrug')}\n          </Typography>\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default withNamespaces('EmptyPlaceholder')(EmptyPlaceholder)\n","import { Bind } from 'lodash-decorators'\nimport { Component, ReactNode } from 'react'\n\ninterface ToggleProps {\n  initial: boolean\n  onChange?(state: boolean): void\n  children(state: boolean, toggle: () => void): ReactNode\n}\n\ninterface ToggleState {\n  value: boolean\n}\n\nclass Toggle extends Component<ToggleProps, ToggleState> {\n  constructor(props: ToggleProps) {\n    super(props)\n    this.state = { value: props.initial }\n  }\n\n  public render(): ReactNode {\n    return this.props.children(this.state.value, this._toggle)\n  }\n\n  @Bind()\n  private _toggle(): void {\n    this.setState(\n      ({ value }: ToggleState) => ({ value: !value }),\n      () => {\n        if (this.props.onChange) this.props.onChange(this.state.value)\n      },\n    )\n  }\n}\n\nexport default Toggle\n","import {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  WithStyles,\n  withStyles,\n} from '@material-ui/core/styles'\nimport classnames from 'classnames'\nimport React, { Component, ReactNode } from 'react'\n\ninterface ContentHtmlProps {\n  className?: string\n  children: string\n}\n\nconst styles: StyleRulesCallback = (theme: Theme): StyleRules => ({\n  content: {\n    ...theme.typography.body2,\n    margin: 0,\n    width: '100%',\n    overflow: 'auto',\n    wordBreak: 'break-word',\n    '& *': {\n      margin: 0,\n    },\n    '& p': {\n      ...theme.typography.body2,\n      marginTop: theme.spacing.unit / 2,\n      maxWidth: '100%',\n      overflow: 'auto',\n      wordBreak: 'break-word',\n    },\n    '& pre, & code': {\n      ...theme.typography.body2,\n      maxWidth: '100%',\n      overflow: 'auto',\n      fontFamily: 'monospace',\n    },\n    '& a': {\n      ...theme.typography.body2,\n      color: theme.palette.link.default,\n      display: 'inline-block',\n      maxWidth: '100%',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n      verticalAlign: 'top',\n      textDecoration: 'none',\n      '&:hover, &:focus': {\n        textDecoration: 'underline',\n      },\n      '&:focus, &:active, &:visited': {\n        color: theme.palette.link.active,\n        outline: 'none',\n      },\n    },\n  },\n})\n\nclass ContentHtml extends Component<ContentHtmlProps & WithStyles> {\n  public render(): ReactNode {\n    const { classes, className }: this['props'] = this.props\n\n    return (\n      <p\n        className={classnames(classes.content, className)}\n        dangerouslySetInnerHTML={{ __html: this.props.children }}\n      />\n    )\n  }\n}\n\nexport default withStyles(styles)(ContentHtml)\n","export function arrayEquals<T>(left: T[], right: T[]): boolean {\n  return (\n    left.length === right.length &&\n    left.every((v: T, i: number): boolean => v === right[i])\n  )\n}\n","export function clamp(\n  n: number,\n  low: number = 0,\n  high: number = Infinity,\n): number {\n  if (n < low) {\n    return low\n  }\n\n  if (n > high) {\n    return high\n  }\n\n  return n\n}\n","export function interleave<T = unknown, U = unknown>(\n  array: T[],\n  insert: U,\n): Array<T | U> {\n  const res: Array<T | U> = []\n  for (const item of array) {\n    res.push(item, insert)\n  }\n  res.pop()\n  return res\n}\n","// tslint:disable-next-line no-any\nexport function noop(...args: any[]): void {\n  // noop\n}\n","export enum StatefulPromiseState {\n  PENDING,\n  RESOLVED,\n  REJECTED,\n}\n\nexport const {\n  PENDING,\n  REJECTED,\n  RESOLVED,\n}: typeof StatefulPromiseState = StatefulPromiseState\n\nexport class StatefulPromise<T> {\n  public state: StatefulPromiseState = StatefulPromiseState.PENDING\n  constructor(public value: Promise<T>) {\n    value\n      .then(() => {\n        this.state = StatefulPromiseState.RESOLVED\n      })\n      .catch(() => {\n        this.state = StatefulPromiseState.REJECTED\n      })\n  }\n}\n","export * from './arrayEquals'\nexport * from './clamp'\nexport * from './interleave'\nexport * from './noop'\nexport * from './StatefulPromise'\n","import React, { Component, ReactNode, Suspense } from 'react'\nimport { Optional } from '../types'\n\ninterface OnDemandProps {\n  render: boolean\n  children: ReactNode\n  fallback?: ReactNode\n}\n\ninterface OnDemandState {\n  shouldRender: boolean\n}\n\nclass OnDemand extends Component<OnDemandProps, OnDemandState> {\n  public static getDerivedStateFromProps(\n    nextProps: OnDemandProps,\n    prevState: OnDemandState,\n  ): Optional<OnDemandState> {\n    if (!prevState.shouldRender && nextProps.render) {\n      return { shouldRender: true }\n    }\n\n    return null\n  }\n\n  public state: OnDemandState = { shouldRender: false }\n\n  public render(): ReactNode {\n    const { fallback, children }: this['props'] = this.props\n\n    return (\n      <Suspense fallback={fallback || ''}>\n        {this.state.shouldRender && children}\n      </Suspense>\n    )\n  }\n}\n\nexport default OnDemand\n","import {\n  createMuiTheme,\n  CssBaseline,\n  MuiThemeProvider,\n  PaletteType,\n  Theme,\n} from '@material-ui/core'\nimport { indigo } from '@material-ui/core/colors'\nimport { CSSProperties } from '@material-ui/core/styles/withStyles'\nimport { Bind, Memoize } from 'lodash-decorators'\nimport React, { ReactNode } from 'react'\nimport { noop } from '../../util'\nimport { WithStorage, withStorage } from '../StorageProvider/StorageProvider'\n\ndeclare module '@material-ui/core/styles/createMixins' {\n  interface Mixins {\n    appMaxWidth: number\n    toolbarMaxWidth: number\n    feedLink: CSSProperties\n  }\n}\n\ndeclare module '@material-ui/core/styles/createPalette' {\n  interface PaletteOptions {\n    link: {\n      default: string\n      active: string\n    }\n  }\n\n  interface Palette {\n    link: {\n      default: string\n      active: string\n    }\n  }\n}\n\ninterface ThemeProviderProps extends WithStorage<ThemeProviderState> {}\n\ninterface ThemeProviderState {\n  theme: PaletteType\n}\n\nexport interface ThemeContextType {\n  selectedTheme: PaletteType\n  setTheme(theme: PaletteType): void\n}\n\nconst DEFAULT_THEME: PaletteType = 'dark'\nexport const ThemeContext: React.Context<\n  ThemeContextType\n> = React.createContext({\n  selectedTheme: DEFAULT_THEME,\n  setTheme: noop,\n} as ThemeContextType)\n\nclass ThemeProvider extends React.Component<\n  ThemeProviderProps,\n  ThemeProviderState\n> {\n  constructor(props: ThemeProviderProps) {\n    super(props)\n    this.state = {\n      theme: props.storage.get('theme', DEFAULT_THEME),\n    }\n  }\n\n  public render(): ReactNode {\n    return (\n      <MuiThemeProvider theme={this._createMuiTheme(this.state.theme)}>\n        <CssBaseline />\n        <ThemeContext.Provider\n          value={{\n            setTheme: this._setTheme,\n            selectedTheme: this.state.theme,\n          }}\n        >\n          {this.props.children}\n        </ThemeContext.Provider>\n      </MuiThemeProvider>\n    )\n  }\n\n  @Bind()\n  private _setTheme(theme: PaletteType): void {\n    if (this.state.theme !== theme) {\n      this.setState({ theme })\n      this.props.storage.set('theme', theme)\n    }\n  }\n\n  @Memoize()\n  private _createMuiTheme(type: PaletteType): Theme {\n    return createMuiTheme({\n      mixins: {\n        appMaxWidth: 8 * 120,\n        toolbarMaxWidth: 8 * 150,\n        feedLink: {\n          fontWeight: 300,\n          '&.isActive::before': {\n            content: '\"> \"',\n          },\n        },\n      },\n      palette: {\n        type,\n        link:\n          type === 'light'\n            ? {\n                default: indigo.A700,\n                active: indigo[700],\n              }\n            : {\n                default: indigo.A100,\n                active: indigo[100],\n              },\n      },\n      typography: {\n        useNextVariants: true,\n      },\n    })\n  }\n}\n\nexport default withStorage('theme')(ThemeProvider)\n","import { Component, ReactNode } from 'react'\n\nclass Pending extends Component {\n  public render(): ReactNode {\n    return this.props.children\n  }\n}\n\nexport default Pending\n","import { Component, ReactNode } from 'react'\n\nexport interface RejectedProps {\n  error?: Error\n  children(error: Error): ReactNode\n}\n\nclass Rejected extends Component<RejectedProps> {\n  public render(): ReactNode {\n    return this.props.children(this.props.error as Error)\n  }\n}\n\nexport default Rejected\n","import { Component, ReactNode } from 'react'\n\nexport interface ResolvedProps<T> {\n  data?: T\n  children(data: T): ReactNode\n}\n\nclass Resolved<T> extends Component<ResolvedProps<T>> {\n  public render(): ReactNode {\n    return this.props.children(this.props.data as T)\n  }\n}\n\nexport default Resolved\n","import {\n  Children,\n  cloneElement,\n  Component,\n  ReactChild,\n  ReactElement,\n  ReactNode,\n} from 'react'\nimport { Optional } from '../types'\nimport { PENDING, REJECTED, RESOLVED, StatefulPromise } from '../util'\nimport Pending from './Pending'\nimport Rejected, { RejectedProps } from './Rejected'\nimport Resolved, { ResolvedProps } from './Resolved'\n\nexport interface AsyncProps<T> {\n  promise(): Promise<T>\n}\n\ninterface StateToChild<T = unknown> {\n  [PENDING]: null | ReactElement<{}>\n  [RESOLVED]: null | ReactElement<ResolvedProps<T>>\n  [REJECTED]: null | ReactElement<RejectedProps>\n}\n\ninterface AsyncState<T> {\n  promise: StatefulPromise<T>\n  data?: T\n  error?: Error\n}\n\nclass Async<T> extends Component<AsyncProps<T>, AsyncState<T>> {\n  public static Pending: typeof Pending = Pending\n  public static Rejected: typeof Rejected = Rejected\n  public static Resolved: typeof Resolved = Resolved\n  private static _emptyStateToChild: StateToChild = {\n    [PENDING]: null,\n    [RESOLVED]: null,\n    [REJECTED]: null,\n  }\n\n  public constructor(props: Async<T>['props']) {\n    super(props)\n    const promise: StatefulPromise<T> = new StatefulPromise(props.promise())\n    this.state = { promise }\n  }\n\n  public componentDidMount(): void {\n    this.state.promise.value\n      .then((result: T) =>\n        this.setState({\n          data: result,\n        }),\n      )\n      .catch((error: unknown) =>\n        this.setState({\n          error: error instanceof Error ? error : new Error(`${error}`),\n        }),\n      )\n  }\n\n  public render(): ReactNode {\n    const stateToChild: StateToChild<T> = this._getStateToChild()\n    let element: Optional<\n      ReactElement<ResolvedProps<T>> | ReactElement<RejectedProps>\n    > = null\n\n    switch (this.state.promise.state) {\n      case PENDING:\n        return stateToChild[PENDING]\n      case RESOLVED:\n        element = stateToChild[RESOLVED]\n        if (!element) return null\n        return cloneElement(element, { data: this.state.data })\n      case REJECTED:\n        element = stateToChild[REJECTED]\n        if (!element) return null\n        return cloneElement(element, { error: this.state.error })\n    }\n  }\n\n  private _getStateToChild(): StateToChild<T> {\n    const result: StateToChild = { ...Async._emptyStateToChild }\n    Children.forEach(this.props.children, (child: ReactChild) => {\n      if (typeof child !== 'object') return this._dieInvalidChild()\n\n      switch (child.type) {\n        case Pending:\n          result[PENDING] = result[PENDING] || child\n          break\n        case Resolved:\n          result[RESOLVED] = result[RESOLVED] || child\n          break\n        case Rejected:\n          result[REJECTED] = result[REJECTED] || child\n          break\n        default:\n          this._dieInvalidChild()\n      }\n    })\n\n    return result as StateToChild<T>\n  }\n\n  private _dieInvalidChild(): never {\n    throw new Error('use only Async.* components as a child to Async')\n  }\n}\n\nexport default Async\n","import { Grid } from '@material-ui/core'\nimport { StyleRules, withStyles, WithStyles } from '@material-ui/core/styles'\nimport React, { Component, ReactNode } from 'react'\n\nconst styles: StyleRules = {\n  container: {\n    height: '100vh',\n  },\n}\n\nclass FullPage extends Component<WithStyles> {\n  public render(): ReactNode {\n    const { classes }: FullPage['props'] = this.props\n\n    return (\n      <Grid\n        container\n        alignItems=\"center\"\n        justify=\"center\"\n        className={classes.container}\n      >\n        <Grid item>{this.props.children}</Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default withStyles(styles)(FullPage)\n","import {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core/styles'\nimport { AlertCircle } from 'mdi-material-ui'\nimport React, { Component, ReactNode } from 'react'\nimport FullPage from '../FullPage/FullPage'\n\nconst styles: StyleRulesCallback = (theme: Theme): StyleRules => ({\n  icon: {\n    fontSize: theme.typography.h1.fontSize,\n  },\n})\n\nclass ErrorPage extends Component<WithStyles> {\n  public render(): ReactNode {\n    const { classes }: ErrorPage['props'] = this.props\n\n    return (\n      <FullPage>\n        <AlertCircle className={classes.icon} color=\"error\" />\n      </FullPage>\n    )\n  }\n}\n\nexport default withStyles(styles)(ErrorPage)\n","import { CircularProgress } from '@material-ui/core'\nimport React, { Component, ReactNode } from 'react'\nimport FullPage from '../FullPage/FullPage'\n\nclass LoadingPage extends Component {\n  public render(): ReactNode {\n    return (\n      <FullPage>\n        <CircularProgress size={80} />\n      </FullPage>\n    )\n  }\n}\n\nexport default LoadingPage\n","import { i18n } from 'i18next'\nimport { Bind, Once } from 'lodash-decorators'\nimport React, { ReactNode } from 'react'\nimport { I18nextProvider } from 'react-i18next'\nimport Async from '../../Async/Async'\nimport ErrorPage from '../../ErrorPage/ErrorPage'\nimport { setup } from '../../i18n'\nimport LoadingPage from '../../LoadingPage/LoadingPage'\nimport { noop } from '../../util'\nimport { withStorage, WithStorage } from '../StorageProvider/StorageProvider'\n\ninterface LanguageProviderProps extends WithStorage<LanguageProviderState> {}\ninterface LanguageProviderState {\n  language: string\n}\n\nexport interface LanguageContextType {\n  selectedLanguage: string\n  setLanguage(language: string): void\n}\n\nconst DEFAULT_LANGUAGE: string = 'en-GB'\nexport const LanguageContext: React.Context<\n  LanguageContextType\n> = React.createContext({\n  selectedLanguage: DEFAULT_LANGUAGE,\n  setLanguage: noop,\n})\n\nclass LanguageProvider extends React.Component<\n  LanguageProviderProps,\n  LanguageProviderState\n> {\n  public state: LanguageProviderState = { language: DEFAULT_LANGUAGE }\n  constructor(props: LanguageProviderProps) {\n    super(props)\n    this.state = {\n      language: props.storage.get('language', DEFAULT_LANGUAGE),\n    }\n  }\n\n  public render(): ReactNode {\n    return (\n      <Async promise={this._i18n}>\n        <Async.Pending>\n          <LoadingPage />\n        </Async.Pending>\n        <Async.Resolved>\n          {(i18next: i18n): ReactNode => {\n            return (\n              <I18nextProvider i18n={i18next}>\n                <LanguageContext.Provider\n                  value={this._getLanguageContext(i18next)}\n                >\n                  {this.props.children}\n                </LanguageContext.Provider>\n              </I18nextProvider>\n            )\n          }}\n        </Async.Resolved>\n        <Async.Rejected>{(): ReactNode => <ErrorPage />}</Async.Rejected>\n      </Async>\n    )\n  }\n\n  private _getLanguageContext(i18next: i18n): LanguageContextType {\n    return {\n      selectedLanguage: this.state.language,\n      setLanguage: (language: string): void => {\n        if (this.state.language !== language) {\n          i18next.changeLanguage(language)\n          this.props.storage.set('language', language)\n          this.setState({ language })\n        }\n      },\n    }\n  }\n\n  @Bind()\n  @Once()\n  private _i18n(): Promise<i18n> {\n    return setup(this.state.language)\n  }\n}\n\nexport default withStorage('language')(LanguageProvider)\n","import { format as formatDate, formatDistance, Locale } from 'date-fns'\nimport i18next, { i18n } from 'i18next'\nimport { Optional } from '../types'\n\nexport function setup(initLanguage: string): Promise<i18n> {\n  let currentLocale: Locale | undefined\n\n  return new Promise(\n    (resolve: (i: i18n) => void, reject: (e: Error) => void): void => {\n      i18next\n        .use({\n          type: 'backend',\n          read(\n            language: string,\n            namespace: string,\n            callback: (err: Optional<Error>, result?: object) => void,\n          ): void {\n            import(`./locales/${language}/${namespace}.json`)\n              .then((result: object) => callback(null, result))\n              .catch(() => {\n                callback(null, {})\n              })\n          },\n        })\n        .init(\n          {\n            debug: false,\n            lng: initLanguage,\n            fallbackLng: false,\n            defaultNS: 'shared',\n            ns: 'shared',\n            interpolation: {\n              escapeValue: false,\n              formatSeparator: '|',\n              format(value: unknown, format?: string): string {\n                switch (format) {\n                  case 'distance': {\n                    if (typeof value !== 'number') {\n                      throw new Error('invalid distance value')\n                    }\n                    return formatDistance(new Date(1000 * value), new Date(), {\n                      addSuffix: true,\n                      locale: currentLocale,\n                    })\n                  }\n                  case 'date': {\n                    if (typeof value !== 'number') {\n                      throw new Error('invalid date value')\n                    }\n                    return formatDate(new Date(1000 * value), 'PP', {\n                      locale: currentLocale,\n                    })\n                  }\n                  default:\n                    throw new Error('formatter not implemented')\n                }\n              },\n            },\n            react: {\n              wait: true,\n            },\n            ...(process.env.NODE_ENV === 'development'\n              ? {\n                  saveMissing: true,\n                  missingKeyHandler(\n                    lngs: string[],\n                    ns: string,\n                    key: string,\n                    fallbackValue: string,\n                  ): void {\n                    // tslint:disable-next-line no-console\n                    console.warn('missing key:', lngs, ns, key, fallbackValue)\n                  },\n                }\n              : {}),\n          },\n          (error: unknown) => {\n            if (error) {\n              reject(new Error(`${error}`))\n            } else {\n              resolve(i18next)\n            }\n          },\n        )\n        .on('languageChanged', (language: string) => {\n          import(/* webpackInclude: /(en-GB|en-US)\\/index.js$/ */ `date-fns/locale/${language}`)\n            .then(\n              (locale: Locale): void => {\n                currentLocale = locale\n              },\n            )\n            .catch((error: Error) => {\n              if (process.env.NODE_ENV === 'development') {\n                // tslint:disable-next-line no-console\n                console.warn('locale not found', language, error)\n              }\n            })\n        })\n    },\n  )\n}\n","import { Typography } from '@material-ui/core'\nimport {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core/styles'\nimport { Bind, Memoize } from 'lodash-decorators'\nimport React, { Component, ComponentType, ReactNode } from 'react'\nimport { WithNamespaces, withNamespaces } from 'react-i18next'\nimport { getItem } from '../api'\nimport {\n  Comment,\n  Item,\n  ItemId,\n  Job,\n  Poll,\n  PollOption,\n  Story,\n  Subscriber,\n  Unsubscriber,\n} from '../api/types'\nimport ContentHtml from '../ContentHtml/ContentHtml'\nimport Link from '../Link/Link'\nimport ItemRoute from '../routes/ItemRoute/ItemRoute'\nimport UserRoute from '../routes/UserRoute/UserRoute'\nimport Time from '../Time/Time'\nimport { Optional } from '../types'\nimport { interleave } from '../util'\nimport WithUpdates, { WithUpdatesFrom } from '../WithUpdates/WithUpdates'\n\ninterface HeadlineProps {\n  id?: ItemId\n  item?: Item\n  expanded?: true\n}\n\nconst styles: StyleRulesCallback = (theme: Theme): StyleRules => ({\n  link: {\n    color: theme.palette.link.default,\n    '&:focus, &:active, &:visited': {\n      color: theme.palette.link.active,\n      outline: 'none',\n    },\n  },\n  inline: {\n    display: 'inline-block',\n  },\n  expandedText: {\n    marginTop: theme.spacing.unit,\n  },\n  pollOptions: {\n    paddingLeft: theme.spacing.unit * 4,\n  },\n})\n\ntype Core = Story | Job | Poll\nclass Headline extends Component<HeadlineProps & WithStyles & WithNamespaces> {\n  public render(): ReactNode {\n    const { item, id }: this['props'] = this.props\n\n    if (id) {\n      return (\n        <WithUpdates from={this._subscribe(id)}>{this._renderItem}</WithUpdates>\n      )\n    }\n\n    if (item) {\n      return this._renderItem(item)\n    }\n\n    throw new Error('either id or item should be provided')\n  }\n\n  @Bind()\n  @Memoize()\n  private _subscribe(id: ItemId): WithUpdatesFrom<Item> {\n    return (subscriber: Subscriber<Item>): Unsubscriber =>\n      getItem(id, subscriber)\n  }\n\n  @Bind()\n  private _renderItem(item?: Optional<Item>): ReactNode {\n    return <section>{item ? this._item(item) : this._empty()}</section>\n  }\n\n  private _empty(): ReactNode {\n    return (\n      <>\n        <Typography variant=\"body1\">???</Typography>\n        {this._caption(['???'])}\n      </>\n    )\n  }\n\n  private _item(item: Item): ReactNode {\n    switch (item.type) {\n      case 'story':\n        return this._core(item)\n      case 'job':\n        return this._core(item)\n      case 'poll':\n        return this._core(item)\n      case 'pollopt':\n        return this._pollOption(item)\n      case 'comment':\n        return this._comment(item)\n      default:\n        throw new Error(`unknown item type ${(item as Item).type}`)\n    }\n  }\n\n  private _core(item: Core): ReactNode {\n    return (\n      <>\n        {this._headerToUrlOrComments(item)}\n        {this._deriveCaption(item)}\n        {this._maybeText(item, true)}\n        {this._maybePollOptions(item)}\n      </>\n    )\n  }\n\n  private _pollOption({ text, score, poll }: PollOption): ReactNode {\n    const { t }: this['props'] = this.props\n\n    return (\n      <>\n        <Typography variant=\"body1\">{text}</Typography>\n        {this._caption([\n          t('points', { count: score }),\n          '|',\n          this._captionLink(\n            'parentPoll',\n            ItemRoute.makeURL({ id: poll }),\n            t('poll'),\n          ),\n        ])}\n      </>\n    )\n  }\n\n  private _comment(comment: Comment): ReactNode {\n    const { by, id, time, parent, dead, deleted }: Comment = comment\n    if (dead || deleted) return null\n    const { t }: this['props'] = this.props\n\n    return (\n      <>\n        {this._caption([\n          this._captionLink('by', UserRoute.makeURL({ id: by }), by),\n          this._captionLink(\n            'time',\n            ItemRoute.makeURL({ id }),\n            <Time distance={time} key=\"time\" />,\n          ),\n          '|',\n          this._captionLink(\n            'parent',\n            ItemRoute.makeURL({ id: parent }),\n            t('parent'),\n          ),\n        ])}\n        {this._maybeText(comment, false)}\n      </>\n    )\n  }\n\n  private _header(\n    external: boolean,\n    href: string,\n    children: ReactNode,\n  ): ReactNode {\n    const { classes }: this['props'] = this.props\n\n    return (\n      <Link\n        variant=\"body1\"\n        className={classes.link}\n        {...{ external, href, children }}\n      />\n    )\n  }\n\n  private _headerToUrlOrComments(item: Core): ReactNode {\n    const { id, title }: typeof item = item\n    return 'url' in item && item.url\n      ? this._header(true, item.url, title)\n      : this._header(false, ItemRoute.makeURL({ id }), title)\n  }\n\n  private _caption(content: ReactNode[]): ReactNode {\n    const { classes }: this['props'] = this.props\n\n    return (\n      <Typography\n        variant=\"caption\"\n        color=\"textSecondary\"\n        className={classes.inline}\n        component=\"aside\"\n      >\n        {interleave(content, ' ')}\n      </Typography>\n    )\n  }\n\n  private _captionLink(\n    key: string,\n    href: string,\n    children: ReactNode,\n  ): ReactNode {\n    const { classes }: this['props'] = this.props\n\n    return <Link className={classes.inline} {...{ key, href, children }} />\n  }\n\n  private _deriveCaption(item: Core): ReactNode {\n    const { t }: this['props'] = this.props\n    const { score, by, time, id }: typeof item = item\n\n    return this._caption([\n      t('points', { count: score }),\n      t('by'),\n      this._captionLink('by', UserRoute.makeURL({ id: by }), by),\n      this._captionLink(\n        'time',\n        ItemRoute.makeURL({ id }),\n        <Time distance={time} key=\"time\" />,\n      ),\n      ...('descendants' in item\n        ? [\n            '|',\n            this._captionLink(\n              'comments',\n              ItemRoute.makeURL({ id }),\n              t('comments', { count: item.descendants }),\n            ),\n          ]\n        : []),\n    ])\n  }\n\n  private _maybeText(item: Item, spaced: boolean): ReactNode {\n    const { expanded, classes }: this['props'] = this.props\n\n    return expanded && 'text' in item ? (\n      <ContentHtml className={spaced ? classes.expandedText : ''}>\n        {item.text}\n      </ContentHtml>\n    ) : null\n  }\n\n  private _maybePollOptions(item: Core): ReactNode {\n    const { expanded, classes }: this['props'] = this.props\n\n    return expanded && 'parts' in item ? (\n      <section className={classes.pollOptions}>\n        {item.parts.map(\n          (part: ItemId): ReactNode => (\n            <Self id={part} key={part} />\n          ),\n        )}\n      </section>\n    ) : null\n  }\n}\n\nconst Self: ComponentType<HeadlineProps> = withNamespaces('Headline')(\n  withStyles(styles)(Headline),\n)\nexport default Self\n","var map = {\n\t\"./en/Comment.json\": [\n\t\t3752,\n\t\t6\n\t],\n\t\"./en/EmptyPlaceholder.json\": [\n\t\t3753,\n\t\t7\n\t],\n\t\"./en/Header.json\": [\n\t\t3754,\n\t\t8\n\t],\n\t\"./en/Headline.json\": [\n\t\t3755,\n\t\t9\n\t],\n\t\"./en/HeadlineList.json\": [\n\t\t3756,\n\t\t10\n\t],\n\t\"./en/NotFoundRoute.json\": [\n\t\t3757,\n\t\t11\n\t],\n\t\"./en/Settings.json\": [\n\t\t3758,\n\t\t12\n\t],\n\t\"./en/Submissions.json\": [\n\t\t3759,\n\t\t13\n\t],\n\t\"./en/Thread.json\": [\n\t\t3760,\n\t\t14\n\t],\n\t\"./en/User.json\": [\n\t\t3761,\n\t\t15\n\t],\n\t\"./en/shared.json\": [\n\t\t3762,\n\t\t16\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 3713;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./en-GB\": [\n\t\t116,\n\t\t0\n\t],\n\t\"./en-GB/\": [\n\t\t116,\n\t\t0\n\t],\n\t\"./en-GB/index\": [\n\t\t116,\n\t\t0\n\t],\n\t\"./en-GB/index.js\": [\n\t\t116,\n\t\t0\n\t],\n\t\"./en-US\": [\n\t\t117,\n\t\t1\n\t],\n\t\"./en-US/\": [\n\t\t117,\n\t\t1\n\t],\n\t\"./en-US/index\": [\n\t\t117,\n\t\t1\n\t],\n\t\"./en-US/index.js\": [\n\t\t117,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 3714;\nmodule.exports = webpackAsyncContext;","import { Breakpoint as BreakpointId } from '@material-ui/core/styles/createBreakpoints'\nimport withWidth, { isWidthUp, WithWidth } from '@material-ui/core/withWidth'\nimport React, {\n  Children,\n  Component,\n  ComponentClass,\n  ComponentType,\n  Fragment,\n  ReactChild,\n  ReactElement,\n  ReactNode,\n} from 'react'\n\ninterface BreakpointProps {\n  at: BreakpointId\n}\n\ninterface JustChildren {\n  children: ReactNode\n}\nconst Up: ComponentType<JustChildren> = ({\n  children,\n}: JustChildren): ReactElement<{}> => <>{children}</>\nconst Down: ComponentType<JustChildren> = ({\n  children,\n}: JustChildren): ReactElement<{}> => <>{children}</>\n\nclass Breakpoint extends Component<BreakpointProps & WithWidth> {\n  public render(): ReactNode {\n    const up: boolean = isWidthUp(this.props.at, this.props.width)\n    let render: ReactNode = null\n    Children.forEach(\n      this.props.children,\n      (child: ReactChild): void => {\n        if (typeof child !== 'object') return this._dieInvalidChild()\n\n        switch (child.type) {\n          case Up:\n            if (up) {\n              render = render || child\n            }\n            break\n          case Down:\n            if (!up) {\n              render = render || child\n            }\n            break\n          default:\n            this._dieInvalidChild()\n        }\n      },\n    )\n\n    return render\n  }\n  private _dieInvalidChild(): void {\n    throw new Error('use only Breakpoint.* components as a child to Breakpoint')\n  }\n}\n\nexport default Object.assign(withWidth()(Breakpoint), { Up, Down })\n","import { IconButton } from '@material-ui/core'\nimport { Bind } from 'lodash-decorators'\nimport { Settings as SettingsIcon } from 'mdi-material-ui'\nimport React, { Component, lazy, ReactNode } from 'react'\nimport { withNamespaces, WithNamespaces } from 'react-i18next'\nimport OnDemand from '../../OnDemand/OnDemand'\nimport WithToggle from '../../WithToggle/WithToggle'\n\n// tslint:disable-next-line:typedef\nconst Dialog = lazy(() => import('./Dialog/Dialog'))\n\nclass Settings extends Component<WithNamespaces> {\n  public render(): ReactNode {\n    return <WithToggle initial={false}>{this._withToggle}</WithToggle>\n  }\n\n  @Bind()\n  private _withToggle(open: boolean, toggle: () => void): ReactNode {\n    return (\n      <>\n        <IconButton\n          onClick={toggle}\n          color=\"inherit\"\n          aria-label={this.props.t('settings')}\n          aria-haspopup\n        >\n          <SettingsIcon />\n        </IconButton>\n        <OnDemand render={open}>\n          <Dialog open={open} toggle={toggle} />\n        </OnDemand>\n      </>\n    )\n  }\n}\n\nexport default withNamespaces('Settings')(Settings)\n","import { AppBar, Toolbar } from '@material-ui/core'\nimport {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  WithStyles,\n  withStyles,\n} from '@material-ui/core/styles'\nimport React, { Component, lazy, ReactNode, Suspense } from 'react'\nimport Breakpoint from '../Breakpoint/Breakpoint'\nimport Settings from './Settings/Settings'\n\n// tslint:disable:typedef\nconst Desktop = lazy(() => import('./Desktop/Desktop'))\nconst Mobile = lazy(() => import('./Mobile/Mobile'))\n// tslint:enable:typedef\n\nconst styles: StyleRulesCallback = (theme: Theme): StyleRules => ({\n  toolbar: {\n    maxWidth: theme.mixins.toolbarMaxWidth,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  spacer: {\n    flexGrow: 1,\n  },\n  contentShift: {\n    ...theme.mixins.toolbar,\n    display: 'block',\n  },\n})\n\nclass Header extends Component<WithStyles> {\n  public render(): ReactNode {\n    const { classes }: Header['props'] = this.props\n\n    return (\n      <>\n        <AppBar>\n          <Toolbar className={classes.toolbar}>\n            <Suspense fallback=\"\">\n              <Breakpoint at=\"sm\">\n                <Breakpoint.Up>\n                  <Desktop />\n                </Breakpoint.Up>\n                <Breakpoint.Down>\n                  <Mobile />\n                </Breakpoint.Down>\n              </Breakpoint>\n            </Suspense>\n            <span className={classes.spacer} />\n            <Settings />\n          </Toolbar>\n        </AppBar>\n        <span className={classes.contentShift} />\n      </>\n    )\n  }\n}\n\nexport default withStyles(styles)(Header)\n","import React, { Component, ReactNode } from 'react'\nimport { HashRouter } from 'react-router-dom'\nimport LanguageProvider from './LanguageProvider/LanguageProvider'\nimport StorageProvider from './StorageProvider/StorageProvider'\nimport ThemeProvider from './ThemeProvider/ThemeProvider'\n\nclass Root extends Component {\n  public render(): ReactNode {\n    return (\n      <StorageProvider>\n        <HashRouter>\n          <ThemeProvider>\n            <LanguageProvider>{this.props.children}</LanguageProvider>\n          </ThemeProvider>\n        </HashRouter>\n      </StorageProvider>\n    )\n  }\n}\n\nexport default Root\n","import { TranslationFunction } from 'i18next'\nimport React, { ReactNode } from 'react'\nimport { NamespacesConsumer } from 'react-i18next'\nimport { Route } from 'react-router-dom'\nimport EmptyPlaceHolder from '../../EmptyPlaceholder/EmptyPlaceHolder'\nimport { RouteConfig, withSuspense } from '../util'\n\nclass NotFoundRoute implements RouteConfig {\n  public makeURL(): never {\n    throw new Error('cannot make 404 URL')\n  }\n\n  public use(): ReactNode {\n    return withSuspense(\n      <Route>\n        <NamespacesConsumer ns={'NotFoundRoute'}>\n          {this._render}\n        </NamespacesConsumer>\n      </Route>,\n    )\n  }\n\n  private _render(t: TranslationFunction): ReactNode {\n    return <EmptyPlaceHolder message={t('empty')} />\n  }\n}\n\nexport default new NotFoundRoute()\n","import React, { ReactNode } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport FeedRoute from '../FeedRoute/FeedRoute'\nimport { AbstractRouteConfig } from '../util'\n\nclass RootRoute extends AbstractRouteConfig {\n  protected URL: string = '/'\n  public use(): ReactNode {\n    return (\n      <Redirect from={this.URL} to={FeedRoute.makeURL({ feed: 'top' })} exact />\n    )\n  }\n}\n\nexport default new RootRoute()\n","import React, { Component } from 'react'\nimport { Switch } from 'react-router-dom'\nimport Header from '../Header/Header'\nimport Root from '../Root/Root'\nimport FeedRoute from '../routes/FeedRoute/FeedRoute'\nimport ItemRoute from '../routes/ItemRoute/ItemRoute'\nimport NotFoundRoute from '../routes/NotFoundRoute/NotFoundRoute'\nimport RootRoute from '../routes/RootRoute/RootRoute'\nimport UserRoute from '../routes/UserRoute/UserRoute'\n\nimport '../Headline/Headline'\n\nclass App extends Component {\n  public render(): JSX.Element {\n    return (\n      <Root>\n        <Header />\n        <main>\n          <Switch>\n            {RootRoute.use()}\n            {FeedRoute.use()}\n            {ItemRoute.use()}\n            {UserRoute.use()}\n            {NotFoundRoute.use()}\n          </Switch>\n        </main>\n      </Root>\n    )\n  }\n}\n\nexport default App\n","import 'typeface-roboto'\n\nimport React from 'react'\nimport reactDom from 'react-dom'\n\nimport App from './App/App'\n\n// import { register } from './serviceWorker/serviceWorker'\n// register()\n\nreactDom.render(<App />, document.getElementById('root'))\n","import { Memoize } from 'lodash-decorators'\nimport { compile } from 'path-to-regexp'\nimport { ReactNode } from 'react'\nimport { AnyRecord } from '../../types'\nimport { RouteConfig } from './RouteConfig'\n\nexport abstract class AbstractRouteConfig<Params extends AnyRecord = {}>\n  implements RouteConfig<Params> {\n  protected abstract URL: string\n\n  public abstract use(): ReactNode\n\n  public makeURL(params: Params): string {\n    const fn: this['makeURL'] = this._compileURL(this.URL)\n    return fn(params)\n  }\n\n  @Memoize()\n  private _compileURL(URL: string): this['makeURL'] {\n    return compile(URL)\n  }\n}\n","import { Bind } from 'lodash-decorators'\nimport React, { ReactNode } from 'react'\nimport { Route, RouteComponentProps } from 'react-router-dom'\nimport { AnyRecord } from '../../types'\nimport { AbstractRouteConfig } from './AbstractRouteConfig'\n\nexport type AsString<T extends AnyRecord> = {\n  [k in keyof T]: T[k] extends string ? T[k] : string\n}\n\nexport abstract class SimpleRouteConfig<\n  Params extends AnyRecord = {}\n> extends AbstractRouteConfig<Params> {\n  public use(): ReactNode {\n    return <Route path={this.URL}>{this._translateParams}</Route>\n  }\n\n  protected abstract translateParams(params: AsString<Params>): ReactNode\n\n  @Bind()\n  private _translateParams({\n    match,\n  }: RouteComponentProps<AsString<Params>>): ReactNode {\n    return match ? this.translateParams(match.params) : null\n  }\n}\n","import { LinearProgress } from '@material-ui/core'\nimport React, { ReactNode, Suspense } from 'react'\n\nexport function withSuspense(\n  children: ReactNode,\n  fallback: ReactNode = <LinearProgress />,\n): ReactNode {\n  return <Suspense {...{ children, fallback }} />\n}\n","import { RouteConfig } from './RouteConfig'\n\nexport type RouteConfig = RouteConfig\nexport * from './AbstractRouteConfig'\nexport * from './SimpleRouteConfig'\nexport * from './withSuspense'\n","import React, { lazy, ReactNode } from 'react'\nimport { ItemId } from '../../api/types'\nimport { AsString, SimpleRouteConfig, withSuspense } from '../util'\n\n// tslint:disable-next-line:typedef\nconst Thread = lazy(() => import('../../Thread/Thread'))\n\ninterface ItemRouteParams {\n  id: ItemId\n}\n\nclass ItemRoute extends SimpleRouteConfig<ItemRouteParams> {\n  protected URL: string = '/item/:id(\\\\d+)'\n  protected translateParams({ id }: AsString<ItemRouteParams>): ReactNode {\n    return withSuspense(<Thread id={Number(id)} />)\n  }\n}\n\nexport default new ItemRoute()\n","import { AnyRecord } from '../../../types'\nimport { Storage as StorageInterface } from '../interfaces'\n\nabstract class NamespacedAbstractStorage<T extends AnyRecord>\n  implements StorageInterface<T> {\n  private _cache: T\n\n  constructor(private _namespace: string) {\n    this._cache = this._decode()\n  }\n\n  public get<Key extends keyof T>(key: Key): T[Key] | undefined\n  public get<Key extends keyof T, Otherwise>(\n    key: Key,\n    otherwise?: Otherwise,\n  ): T[Key] | Otherwise {\n    return (this._cache[key] || otherwise) as T[Key] | Otherwise\n  }\n\n  public set<Key extends keyof T>(key: Key, value: T[Key]): void {\n    this._cache[key] = value\n    this._encode()\n  }\n\n  public delete<Key extends keyof T>(key: Key): void {\n    delete this._cache[key]\n    this._encode()\n  }\n\n  protected abstract get storage(): Storage\n\n  private _decode(): T {\n    return JSON.parse(this.storage.getItem(this._namespace) || '{}')\n  }\n\n  private _encode(): void {\n    this.storage.setItem(this._namespace, JSON.stringify(this._cache))\n  }\n}\n\nexport default NamespacedAbstractStorage\n","import mem from 'mem'\nimport { AnyRecord } from '../../../types'\nimport { Storage as StorageInterface, StorageFactory } from '../interfaces'\nimport NamespacedAbstractStorage from '../NamespacedAbstractStorage/NamespacedAbstractStorage'\n\nclass LocalStorage<T extends AnyRecord> extends NamespacedAbstractStorage<T> {\n  public static create: StorageFactory['create'] = mem<\n    StorageFactory['create']\n  >(\n    <T extends AnyRecord>(namespace: string): StorageInterface<T> => {\n      return new LocalStorage(namespace)\n    },\n  )\n\n  protected get storage(): Storage {\n    if (!window.localStorage) {\n      throw new Error('no local storage')\n    }\n\n    return localStorage\n  }\n}\n\nexport default LocalStorage as StorageFactory\n","import mem from 'mem'\nimport { AnyRecord } from '../../../types'\nimport { Storage as StorageInterface, StorageFactory } from '../interfaces'\nimport NamespacedAbstractStorage from '../NamespacedAbstractStorage/NamespacedAbstractStorage'\n\nclass SessionStorage<T extends AnyRecord> extends NamespacedAbstractStorage<T> {\n  public static create: StorageFactory['create'] = mem<\n    StorageFactory['create']\n  >(\n    <T extends AnyRecord>(namespace: string): StorageInterface<T> => {\n      return new SessionStorage(namespace)\n    },\n  )\n\n  protected get storage(): Storage {\n    if (!window.sessionStorage) {\n      throw new Error('no session storage')\n    }\n\n    return sessionStorage\n  }\n}\n\nexport default SessionStorage as StorageFactory\n","import { Bind } from 'lodash-decorators'\nimport React, {\n  Component,\n  ComponentType,\n  Context,\n  createContext,\n  ReactElement,\n  ReactNode,\n} from 'react'\nimport { AnyRecord } from '../../types'\nimport { noop } from '../../util'\nimport { Storage } from './interfaces'\nimport LocalStorage from './LocalStorage/LocalStorage'\nimport SessionStorage from './SessionStorage/SessionStorage'\n\nexport type Storage<T extends AnyRecord> = Storage<T>\nexport enum StorageType {\n  LOCAL,\n  SESSION,\n}\nexport const { LOCAL, SESSION }: typeof StorageType = StorageType\n\ninterface StorageContextType {\n  getStore<T extends AnyRecord>(\n    namespace: string,\n    type?: StorageType,\n  ): Storage<T>\n}\n\nconst StorageContext: Context<StorageContextType> = createContext({\n  getStore: noop,\n} as StorageContextType)\n\nexport function StorageConsumer<T>({\n  namespace,\n  type,\n  children,\n}: {\n  namespace: string\n  type?: StorageType\n  children: (storage: Storage<T>) => ReactNode\n}): ReactElement<{}> {\n  return (\n    <StorageContext.Consumer>\n      {(context: StorageContextType): ReactNode =>\n        children(context.getStore(namespace, type))\n      }\n    </StorageContext.Consumer>\n  )\n}\n\nexport interface WithStorage<T> {\n  storage: Storage<T>\n}\ntype WithoutStorage<P> = Pick<P, Exclude<keyof P, 'storage'>>\n\nexport function withStorage<T extends AnyRecord>(\n  namespace: string,\n  type?: StorageType,\n): <P extends WithStorage<T>>(\n  Cmp: ComponentType<P>,\n) => ComponentType<WithoutStorage<P>> {\n  return <P extends WithStorage<T>>(\n    Cmp: ComponentType<P>,\n  ): ComponentType<WithoutStorage<P>> => {\n    return function WithStorageCmp(props: WithoutStorage<P>): ReactElement<{}> {\n      return (\n        <StorageContext.Consumer>\n          {(context: StorageContextType): ReactElement<{}> => {\n            const p: P = {\n              ...props,\n              storage: context.getStore(namespace, type),\n            } as P\n            return <Cmp {...p} />\n          }}\n        </StorageContext.Consumer>\n      )\n    }\n  }\n}\n\nclass StorageProvider extends Component {\n  public render(): ReactNode {\n    return (\n      <StorageContext.Provider\n        value={{\n          getStore: this._getStore,\n        }}\n      >\n        {this.props.children}\n      </StorageContext.Provider>\n    )\n  }\n\n  @Bind()\n  private _getStore<T extends AnyRecord>(\n    namespace: string,\n    type: StorageType = LOCAL,\n  ): Storage<T> {\n    switch (type) {\n      case LOCAL:\n        return LocalStorage.create(namespace)\n      case SESSION:\n        return SessionStorage.create(namespace)\n    }\n  }\n}\n\nexport default StorageProvider\n","import React, { lazy, ReactNode } from 'react'\nimport { UserId } from '../../api/types'\nimport { AsString, SimpleRouteConfig, withSuspense } from '../util'\n\n// tslint:disable-next-line:typedef\nconst User = lazy(() => import('../../User/User'))\n\ninterface UserRouteParams {\n  id: UserId\n}\n\nclass UserRoute extends SimpleRouteConfig<UserRouteParams> {\n  protected URL: string = '/user/:id'\n  protected translateParams({ id }: AsString<UserRouteParams>): ReactNode {\n    return withSuspense(<User id={id} />)\n  }\n}\n\nexport default new UserRoute()\n","import React, { lazy, ReactNode } from 'react'\nimport { AsString, SimpleRouteConfig, withSuspense } from '../util'\n\n// tslint:disable-next-line:typedef\nconst HeadlineList = lazy(() => import('../../HeadlineList/HeadlineList'))\n\nexport type MainFeed = 'top' | 'new' | 'best' | 'ask' | 'show' | 'job'\nexport const feeds: MainFeed[] = ['top', 'new', 'best', 'ask', 'show', 'job']\n\ninterface FeedRouteParams {\n  feed: MainFeed\n  page?: number\n}\n\nclass FeedRoute extends SimpleRouteConfig<FeedRouteParams> {\n  protected URL: string = `/:feed(${feeds.join('|')})/:page(\\\\d+)?`\n  protected translateParams({\n    feed,\n    page,\n  }: AsString<FeedRouteParams>): ReactNode {\n    return withSuspense(<HeadlineList feed={feed} page={Number(page || '0')} />)\n  }\n}\n\nexport default new FeedRoute()\n"],"sourceRoot":""}