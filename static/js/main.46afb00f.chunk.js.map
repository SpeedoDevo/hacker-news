{"version":3,"sources":["Link/Link.tsx","Time/Time.tsx","api/firebase.ts","api/index.ts","DocumentTitle/DocumentTitle.tsx","WithUpdates/WithUpdates.tsx","EmptyPlaceholder/EmptyPlaceHolder.tsx","WithToggle/WithToggle.tsx","ContentHtml/ContentHtml.tsx","util/arrayEquals.ts","util/clamp.ts","util/interleave.ts","util/noop.ts","util/StatefulPromise.ts","util/index.ts","OnDemand/OnDemand.tsx","Root/ThemeProvider/ThemeProvider.tsx","Async/Pending.tsx","Async/Rejected.tsx","Async/Resolved.tsx","Async/Async.tsx","FullPage/FullPage.tsx","ErrorPage/ErrorPage.tsx","LoadingPage/LoadingPage.tsx","Root/LanguageProvider/LanguageProvider.tsx","i18n/index.ts","Headline/Headline.tsx","i18n/locales lazy /^/.//.*/.json$/ groupOptions: {} namespace object","../node_modules/date-fns/locale lazy /^/.//.*$/ include: /(en-GB|en-US)//index.js$/ groupOptions: {} namespace object","Breakpoint/Breakpoint.tsx","Header/Settings/Settings.tsx","Header/Header.tsx","Root/Root.tsx","routes/NotFoundRoute/NotFoundRoute.tsx","routes/RootRoute/RootRoute.tsx","App/App.tsx","index.tsx","routes/util/AbstractRouteConfig.ts","routes/util/SimpleRouteConfig.tsx","routes/util/withSuspense.tsx","routes/util/index.ts","routes/ItemRoute/ItemRoute.tsx","Root/StorageProvider/NamespacedAbstractStorage/NamespacedAbstractStorage.ts","Root/StorageProvider/LocalStorage/LocalStorage.ts","Root/StorageProvider/SessionStorage/SessionStorage.ts","Root/StorageProvider/StorageProvider.tsx","routes/UserRoute/UserRoute.tsx","routes/FeedRoute/FeedRoute.tsx"],"names":["withHref","href","external","_ref","children","other","Object","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_10___default","a","createElement","assign","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","to","activeClassName","Link","_withHref","mem","_this$props","this","props","classes","className","_this$props$external","_this$props$color","color","_this$props$variant","variant","_material_ui_core__WEBPACK_IMPORTED_MODULE_6__","classnames","link","component","Component","withStyles","_theme","textDecoration","&:hover, &:focus, &:active","outline","Time","distance","t","react__WEBPACK_IMPORTED_MODULE_5___default","dateTime","Date","toISOString","time","withNamespaces","authDomain","concat","databaseURL","api","app","initializeApp","projectId","database","ref","withUnsubscriber","path","cb","child","off","on","snap","whenExists","getItem","id","getUser","getFeed","getTopStories","getNewStories","getBestStories","getAskStories","getShowStories","getJobStories","__webpack_require__","d","__webpack_exports__","DocumentTitle","_update","document","title","WithUpdates","state","_subscribe","prevProps","from","_unsubscribe","data","_this2","_unsubscriber","setState","val","EmptyPlaceholder","message","react__WEBPACK_IMPORTED_MODULE_6___default","_material_ui_core__WEBPACK_IMPORTED_MODULE_5__","container","spacing","alignItems","direction","item","aria-label","Toggle","Bind","_this","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","value","initial","_toggle","onChange","ContentHtml","react__WEBPACK_IMPORTED_MODULE_8___default","content","dangerouslySetInnerHTML","__html","theme","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","typography","body2","margin","width","overflow","wordBreak","& *","& p","marginTop","unit","maxWidth","& pre, & code","fontFamily","& a","palette","default","display","whiteSpace","textOverflow","verticalAlign","&:hover, &:focus","&:focus, &:active, &:visited","active","arrayEquals","left","right","length","every","v","i","clamp","n","low","arguments","undefined","high","Infinity","interleave","array","insert","res","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","push","err","return","pop","noop","StatefulPromiseState","PENDING","REJECTED","RESOLVED","StatefulPromise","classCallCheck","then","catch","StatefulPromise_StatefulPromise","OnDemand","shouldRender","fallback","react__WEBPACK_IMPORTED_MODULE_5__","nextProps","prevState","render","DEFAULT_THEME","ThemeContext","React","createContext","selectedTheme","setTheme","ThemeProvider","Memoize","storage","get","_createMuiTheme","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","Provider","_setTheme","set","type","createMuiTheme","mixins","appMaxWidth","toolbarMaxWidth","feedLink","fontWeight","&.isActive::before","indigo","A700","A100","useNextVariants","withStorage","Pending","Rejected","error","Resolved","Async","possibleConstructorReturn","getPrototypeOf","promise","result","Error","stateToChild","_getStateToChild","element","cloneElement","_this3","objectSpread","_emptyStateToChild","Children","forEach","_dieInvalidChild","FullPage","react_default","core_index_es","justify","height","ErrorPage","src_FullPage_FullPage","index_es","icon","fontSize","h1","LoadingPage","size","DEFAULT_LANGUAGE","LanguageContext","selectedLanguage","setLanguage","LanguageProvider","Once","language","src_Async_Async","_i18n","src_LoadingPage_LoadingPage","i18next","es","i18n","_getLanguageContext","src_ErrorPage_ErrorPage","changeLanguage","initLanguage","currentLocale","Promise","resolve","reject","use","read","namespace","callback","init","esm_objectSpread","debug","lng","fallbackLng","defaultNS","ns","interpolation","escapeValue","formatSeparator","format","formatDistance","addSuffix","locale","formatDate","startsWith","split","react","wait","setup","Headline","_WithUpdates_WithUpdates__WEBPACK_IMPORTED_MODULE_19__","_renderItem","subscriber","_item","_empty","Fragment","_caption","_core","_pollOption","_comment","_headerToUrlOrComments","_deriveCaption","_maybeText","_maybePollOptions","text","score","poll","count","_captionLink","ItemRoute","makeURL","comment","by","parent","dead","deleted","UserRoute","_Time_Time__WEBPACK_IMPORTED_MODULE_17__","key","_Link_Link__WEBPACK_IMPORTED_MODULE_14__","url","_header","inline","_Users_barnabasforgo_repos_hacker_news_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","descendants","spaced","_this$props2","expanded","_ContentHtml_ContentHtml__WEBPACK_IMPORTED_MODULE_13__","expandedText","_this$props3","pollOptions","parts","map","part","Self","paddingLeft","./en/Comment.json","./en/EmptyPlaceholder.json","./en/Header.json","./en/Headline.json","./en/HeadlineList.json","./en/NotFoundRoute.json","./en/Settings.json","./en/Submissions.json","./en/Thread.json","./en/User.json","./en/shared.json","webpackAsyncContext","req","ids","e","code","keys","module","exports","./en-GB","./en-GB/","./en-GB/index","./en-GB/index.js","./en-US","./en-US/","./en-US/index","./en-US/index.js","Up","Down","_ref2","Breakpoint","up","isWidthUp","at","withWidth","Dialog","lazy","bind","Settings","WithToggle","_withToggle","open","toggle","onClick","aria-haspopup","mdi_material_ui_index_es","Desktop","Mobile","Header","toolbar","src_Breakpoint_Breakpoint","spacer","Header_Settings_Settings","contentShift","alignSelf","flexGrow","Root","StorageProvider","HashRouter","routes_NotFoundRoute_NotFoundRoute","withSuspense","Route","_render","EmptyPlaceHolder","routes_RootRoute_RootRoute","URL","Redirect","FeedRoute","feed","exact","AbstractRouteConfig","App","src_Root_Root","src_Header_Header","Switch","RootRoute","NotFoundRoute","reactDom","src_App_App","getElementById","_dec","_class","createClass","params","_compileURL","fn","compile","applyDecoratedDescriptor","prototype","getOwnPropertyDescriptor","SimpleRouteConfig","SimpleRouteConfig_dec","SimpleRouteConfig_class","_AbstractRouteConfig","apply","inherits","_translateParams","match","translateParams","AbstractRouteConfig_AbstractRouteConfig","SimpleRouteConfig_SimpleRouteConfig","Thread","Number","NamespacedAbstractStorage","_namespace","_cache","_decode","otherwise","_encode","JSON","parse","setItem","stringify","LocalStorage","window","localStorage","create","SessionStorage","sessionStorage","StorageType","LOCAL","SESSION","StorageContext","getStore","Cmp","Consumer","context","p","_getStore","User","HeadlineList","feeds","join","page"],"mappings":"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","file":"static/js/main.46afb00f.chunk.js","sourcesContent":["import { Typography } from '@material-ui/core'\nimport {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  WithStyles,\n  withStyles,\n} from '@material-ui/core/styles'\nimport { TypographyProps } from '@material-ui/core/Typography'\nimport classnames from 'classnames'\nimport mem from 'mem'\nimport React, {\n  Component,\n  FunctionComponent,\n  ReactElement,\n  ReactNode,\n} from 'react'\nimport { NavLink } from 'react-router-dom'\n\ninterface LinkProps extends TypographyProps {\n  external?: boolean\n  href: string\n  children: ReactNode\n}\n\nconst styles: StyleRulesCallback = (_theme: Theme): StyleRules => ({\n  link: {\n    textDecoration: 'none',\n    '&:hover, &:focus, &:active': {\n      textDecoration: 'underline',\n      outline: 'none',\n    },\n  },\n})\n\nfunction withHref(href: string, external: boolean): FunctionComponent {\n  return function Anchor({\n    children,\n    ...other\n  }: {\n    children?: ReactNode\n  }): ReactElement<{}> {\n    return external ? (\n      <a href={href} {...other}>\n        {children}\n      </a>\n    ) : (\n      <NavLink to={href} activeClassName=\"isActive\" {...other}>\n        {children}\n      </NavLink>\n    )\n  }\n}\n\nclass Link extends Component<LinkProps & WithStyles> {\n  private _withHref: (\n    href: string,\n    external: boolean,\n  ) => FunctionComponent = mem(withHref)\n\n  public render(): ReactNode {\n    const {\n      classes,\n      href,\n      children,\n      className,\n      external = false,\n      color = 'inherit',\n      variant = 'inherit',\n      ...other\n    }: Link['props'] = this.props\n\n    return (\n      <Typography\n        className={classnames(classes.link, className)}\n        component={this._withHref(href, external)}\n        {...{ color, variant }}\n        {...other}\n      >\n        {children}\n      </Typography>\n    )\n  }\n}\n\nexport default withStyles(styles)(Link)\n","import React, { Component, ReactNode } from 'react'\nimport { withNamespaces, WithNamespaces } from 'react-i18next'\n\ninterface TimeProps {\n  distance: number\n}\n\nclass Time extends Component<TimeProps & WithNamespaces> {\n  public render(): ReactNode {\n    const { distance, t }: this['props'] = this.props\n\n    return (\n      <time dateTime={new Date(distance * 1000).toISOString()}>\n        {t('shared:timeDistance', { time: distance })}\n      </time>\n    )\n  }\n}\n\nexport default withNamespaces()(Time)\n","import app from '@firebase/app'\nimport { FirebaseApp } from '@firebase/app-types'\nimport '@firebase/database'\nimport { FirebaseDatabase, Reference } from '@firebase/database-types'\nimport mem from 'mem'\nimport { Optional } from '../types'\nimport {\n  Feed,\n  FeedId,\n  FeedReader,\n  Item,\n  ItemId,\n  Snapshot,\n  Subscriber,\n  Unsubscriber,\n  User,\n  UserId,\n} from './types'\n\nconst projectId: string = 'hacker-news'\nconst authDomain: string = `${projectId}.firebaseio.com`\nconst databaseURL: string = `https://${authDomain}`\n\nconst firebase: Required<FirebaseApp> = app.initializeApp({\n  authDomain,\n  databaseURL,\n  projectId,\n}) as Required<FirebaseApp>\n\nconst database: FirebaseDatabase = firebase.database()\nconst api: Reference = database.ref('v0')\n\nfunction whenExists<T>(\n  cb: Subscriber<T>,\n): (snap: Optional<Snapshot<T>>) => void {\n  return (snap: Optional<Snapshot<T>>): void => {\n    if (snap) cb(snap)\n  }\n}\n\nexport function withUnsubscriber<T>(\n  path: string,\n  cb: Subscriber<T>,\n): Unsubscriber {\n  const ref: Reference = api.child(path)\n  const off: ReturnType<Reference['off']> = ref.on('value', whenExists(cb))\n  return (): void => {\n    ref.off('value', off)\n  }\n}\n\nexport function getItem<T extends Item>(\n  id: ItemId,\n  cb: Subscriber<T>,\n): Unsubscriber {\n  return withUnsubscriber(`item/${id}`, cb)\n}\n\nexport function getUser(id: UserId, cb: Subscriber<User>): Unsubscriber {\n  return withUnsubscriber(`user/${id}`, cb)\n}\n\nconst getFeed: (id: FeedId) => FeedReader = mem(\n  (id: FeedId): FeedReader => (cb: Subscriber<Feed>): Unsubscriber =>\n    withUnsubscriber(id, cb),\n)\n\nexport const getTopStories: FeedReader = getFeed('topstories')\nexport const getNewStories: FeedReader = getFeed('newstories')\nexport const getBestStories: FeedReader = getFeed('beststories')\nexport const getAskStories: FeedReader = getFeed('askstories')\nexport const getShowStories: FeedReader = getFeed('showstories')\nexport const getJobStories: FeedReader = getFeed('jobstories')\n","export * from './firebase'\n","import { Component, ReactNode } from 'react'\n\ninterface DocumentTitleProps {\n  children: string\n}\n\nclass DocumentTitle extends Component<DocumentTitleProps> {\n  public componentDidMount(): void {\n    this._update()\n  }\n\n  public componentDidUpdate(): void {\n    this._update()\n  }\n\n  public render(): ReactNode {\n    return null\n  }\n\n  private _update(): void {\n    document.title = this.props.children\n  }\n}\n\nexport default DocumentTitle\n","import { Component, ReactNode } from 'react'\nimport { Snapshot, Subscriber, Unsubscriber } from '../api/types'\nimport { Optional } from '../types'\n\nexport type WithUpdatesFrom<T> = (subscriber: Subscriber<T>) => Unsubscriber\n\ninterface WithUpdatesProps<T> {\n  from: WithUpdatesFrom<T>\n  children(data?: Optional<T>): ReactNode\n}\n\ninterface WithUpdatesState<T> {\n  data?: Optional<T>\n}\n\nclass WithUpdates<T> extends Component<\n  WithUpdatesProps<T>,\n  WithUpdatesState<T>\n> {\n  public state: WithUpdatesState<T> = {}\n  private _unsubscriber?: () => void\n\n  public componentDidMount(): void {\n    this._subscribe()\n  }\n\n  public componentDidUpdate(prevProps: WithUpdatesProps<T>): void {\n    if (prevProps.from !== this.props.from) {\n      this._unsubscribe()\n      this._subscribe()\n    }\n  }\n\n  public componentWillUnmount(): void {\n    this._unsubscribe()\n  }\n\n  public render(): ReactNode {\n    const { children }: this['props'] = this.props\n    return children(this.state.data)\n  }\n\n  private _subscribe(): void {\n    this._unsubscriber = this.props.from(\n      (snap: Snapshot<T>): void => {\n        this.setState({ data: snap.val() })\n      },\n    )\n  }\n\n  private _unsubscribe(): void {\n    if (this._unsubscriber) this._unsubscriber()\n    delete this._unsubscriber\n  }\n}\n\nexport default WithUpdates\n","import { Grid, Typography } from '@material-ui/core'\nimport React, { Component, ReactNode } from 'react'\nimport { withNamespaces, WithNamespaces } from 'react-i18next'\n\ninterface EmptyPlaceholderProps {\n  message: string\n}\n\nclass EmptyPlaceholder extends Component<\n  EmptyPlaceholderProps & WithNamespaces\n> {\n  public render(): ReactNode {\n    const { message, t }: this['props'] = this.props\n\n    return (\n      <Grid container spacing={16} alignItems=\"center\" direction=\"column\">\n        <Grid item>\n          <Typography variant=\"h6\">{message}</Typography>\n        </Grid>\n        <Grid item>\n          <Typography variant=\"h4\" aria-label={t('shrugLabel')}>\n            {t('shared:shrug')}\n          </Typography>\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default withNamespaces('EmptyPlaceholder')(EmptyPlaceholder)\n","import { Bind } from 'lodash-decorators'\nimport { Component, ReactNode } from 'react'\n\ninterface ToggleProps {\n  initial: boolean\n  onChange?(state: boolean): void\n  children(state: boolean, toggle: () => void): ReactNode\n}\n\ninterface ToggleState {\n  value: boolean\n}\n\nclass Toggle extends Component<ToggleProps, ToggleState> {\n  constructor(props: ToggleProps) {\n    super(props)\n    this.state = { value: props.initial }\n  }\n\n  public render(): ReactNode {\n    return this.props.children(this.state.value, this._toggle)\n  }\n\n  @Bind()\n  private _toggle(): void {\n    this.setState(\n      ({ value }: ToggleState) => ({ value: !value }),\n      () => {\n        if (this.props.onChange) this.props.onChange(this.state.value)\n      },\n    )\n  }\n}\n\nexport default Toggle\n","import {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  WithStyles,\n  withStyles,\n} from '@material-ui/core/styles'\nimport classnames from 'classnames'\nimport React, { Component, ReactNode } from 'react'\n\ninterface ContentHtmlProps {\n  className?: string\n  children: string\n}\n\nconst styles: StyleRulesCallback = (theme: Theme): StyleRules => ({\n  content: {\n    ...theme.typography.body2,\n    margin: 0,\n    width: '100%',\n    overflow: 'auto',\n    wordBreak: 'break-word',\n    '& *': {\n      margin: 0,\n    },\n    '& p': {\n      ...theme.typography.body2,\n      marginTop: theme.spacing.unit / 2,\n      maxWidth: '100%',\n      overflow: 'auto',\n      wordBreak: 'break-word',\n    },\n    '& pre, & code': {\n      ...theme.typography.body2,\n      maxWidth: '100%',\n      overflow: 'auto',\n      fontFamily: 'monospace',\n    },\n    '& a': {\n      ...theme.typography.body2,\n      color: theme.palette.link.default,\n      display: 'inline-block',\n      maxWidth: '100%',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n      verticalAlign: 'top',\n      textDecoration: 'none',\n      '&:hover, &:focus': {\n        textDecoration: 'underline',\n      },\n      '&:focus, &:active, &:visited': {\n        color: theme.palette.link.active,\n        outline: 'none',\n      },\n    },\n  },\n})\n\nclass ContentHtml extends Component<ContentHtmlProps & WithStyles> {\n  public render(): ReactNode {\n    const { classes, className }: this['props'] = this.props\n\n    return (\n      <p\n        className={classnames(classes.content, className)}\n        dangerouslySetInnerHTML={{ __html: this.props.children }}\n      />\n    )\n  }\n}\n\nexport default withStyles(styles)(ContentHtml)\n","export function arrayEquals<T>(left: T[], right: T[]): boolean {\n  return (\n    left.length === right.length &&\n    left.every((v: T, i: number): boolean => v === right[i])\n  )\n}\n","export function clamp(\n  n: number,\n  low: number = 0,\n  high: number = Infinity,\n): number {\n  if (n < low) {\n    return low\n  }\n\n  if (n > high) {\n    return high\n  }\n\n  return n\n}\n","export function interleave<T = unknown, U = unknown>(\n  array: T[],\n  insert: U,\n): Array<T | U> {\n  const res: Array<T | U> = []\n  for (const item of array) {\n    res.push(item, insert)\n  }\n  res.pop()\n  return res\n}\n","// tslint:disable-next-line no-any\nexport function noop(...args: any[]): void {\n  // noop\n}\n","export enum StatefulPromiseState {\n  PENDING,\n  RESOLVED,\n  REJECTED,\n}\n\nexport const {\n  PENDING,\n  REJECTED,\n  RESOLVED,\n}: typeof StatefulPromiseState = StatefulPromiseState\n\nexport class StatefulPromise<T> {\n  public state: StatefulPromiseState = StatefulPromiseState.PENDING\n  constructor(public value: Promise<T>) {\n    value\n      .then(() => {\n        this.state = StatefulPromiseState.RESOLVED\n      })\n      .catch(() => {\n        this.state = StatefulPromiseState.REJECTED\n      })\n  }\n}\n","export * from './arrayEquals'\nexport * from './clamp'\nexport * from './interleave'\nexport * from './noop'\nexport * from './StatefulPromise'\n","import React, { Component, ReactNode, Suspense } from 'react'\nimport { Optional } from '../types'\n\ninterface OnDemandProps {\n  render: boolean\n  children: ReactNode\n  fallback?: ReactNode\n}\n\ninterface OnDemandState {\n  shouldRender: boolean\n}\n\nclass OnDemand extends Component<OnDemandProps, OnDemandState> {\n  public static getDerivedStateFromProps(\n    nextProps: OnDemandProps,\n    prevState: OnDemandState,\n  ): Optional<OnDemandState> {\n    if (!prevState.shouldRender && nextProps.render) {\n      return { shouldRender: true }\n    }\n\n    return null\n  }\n\n  public state: OnDemandState = { shouldRender: false }\n\n  public render(): ReactNode {\n    const { fallback, children }: this['props'] = this.props\n\n    return (\n      <Suspense fallback={fallback || ''}>\n        {this.state.shouldRender && children}\n      </Suspense>\n    )\n  }\n}\n\nexport default OnDemand\n","import {\n  createMuiTheme,\n  CssBaseline,\n  MuiThemeProvider,\n  PaletteType,\n  Theme,\n} from '@material-ui/core'\nimport { indigo } from '@material-ui/core/colors'\nimport { CSSProperties } from '@material-ui/core/styles/withStyles'\nimport { Bind, Memoize } from 'lodash-decorators'\nimport React, { ReactNode } from 'react'\nimport { noop } from '../../util'\nimport { WithStorage, withStorage } from '../StorageProvider/StorageProvider'\n\ndeclare module '@material-ui/core/styles/createMixins' {\n  interface Mixins {\n    appMaxWidth: number\n    toolbarMaxWidth: number\n    feedLink: CSSProperties\n  }\n}\n\ndeclare module '@material-ui/core/styles/createPalette' {\n  interface PaletteOptions {\n    link: {\n      default: string\n      active: string\n    }\n  }\n\n  interface Palette {\n    link: {\n      default: string\n      active: string\n    }\n  }\n}\n\ninterface ThemeProviderProps extends WithStorage<ThemeProviderState> {}\n\ninterface ThemeProviderState {\n  theme: PaletteType\n}\n\nexport interface ThemeContextType {\n  selectedTheme: PaletteType\n  setTheme(theme: PaletteType): void\n}\n\nconst DEFAULT_THEME: PaletteType = 'dark'\nexport const ThemeContext: React.Context<\n  ThemeContextType\n> = React.createContext({\n  selectedTheme: DEFAULT_THEME,\n  setTheme: noop,\n} as ThemeContextType)\n\nclass ThemeProvider extends React.Component<\n  ThemeProviderProps,\n  ThemeProviderState\n> {\n  constructor(props: ThemeProviderProps) {\n    super(props)\n    this.state = {\n      theme: props.storage.get('theme', DEFAULT_THEME),\n    }\n  }\n\n  public render(): ReactNode {\n    return (\n      <MuiThemeProvider theme={this._createMuiTheme(this.state.theme)}>\n        <CssBaseline />\n        <ThemeContext.Provider\n          value={{\n            setTheme: this._setTheme,\n            selectedTheme: this.state.theme,\n          }}\n        >\n          {this.props.children}\n        </ThemeContext.Provider>\n      </MuiThemeProvider>\n    )\n  }\n\n  @Bind()\n  private _setTheme(theme: PaletteType): void {\n    if (this.state.theme !== theme) {\n      this.setState({ theme })\n      this.props.storage.set('theme', theme)\n    }\n  }\n\n  @Memoize()\n  private _createMuiTheme(type: PaletteType): Theme {\n    return createMuiTheme({\n      mixins: {\n        appMaxWidth: 8 * 120,\n        toolbarMaxWidth: 8 * 150,\n        feedLink: {\n          fontWeight: 300,\n          '&.isActive::before': {\n            content: '\"> \"',\n          },\n        },\n      },\n      palette: {\n        type,\n        link:\n          type === 'light'\n            ? {\n                default: indigo.A700,\n                active: indigo[700],\n              }\n            : {\n                default: indigo.A100,\n                active: indigo[100],\n              },\n      },\n      typography: {\n        useNextVariants: true,\n      },\n    })\n  }\n}\n\nexport default withStorage('theme')(ThemeProvider)\n","import { Component, ReactNode } from 'react'\n\nclass Pending extends Component {\n  public render(): ReactNode {\n    return this.props.children\n  }\n}\n\nexport default Pending\n","import { Component, ReactNode } from 'react'\n\nexport interface RejectedProps {\n  error?: Error\n  children(error: Error): ReactNode\n}\n\nclass Rejected extends Component<RejectedProps> {\n  public render(): ReactNode {\n    return this.props.children(this.props.error as Error)\n  }\n}\n\nexport default Rejected\n","import { Component, ReactNode } from 'react'\n\nexport interface ResolvedProps<T> {\n  data?: T\n  children(data: T): ReactNode\n}\n\nclass Resolved<T> extends Component<ResolvedProps<T>> {\n  public render(): ReactNode {\n    return this.props.children(this.props.data as T)\n  }\n}\n\nexport default Resolved\n","import {\n  Children,\n  cloneElement,\n  Component,\n  ReactChild,\n  ReactElement,\n  ReactNode,\n} from 'react'\nimport { Optional } from '../types'\nimport { PENDING, REJECTED, RESOLVED, StatefulPromise } from '../util'\nimport Pending from './Pending'\nimport Rejected, { RejectedProps } from './Rejected'\nimport Resolved, { ResolvedProps } from './Resolved'\n\nexport interface AsyncProps<T> {\n  promise(): Promise<T>\n}\n\ninterface StateToChild<T = unknown> {\n  [PENDING]: null | ReactElement<{}>\n  [RESOLVED]: null | ReactElement<ResolvedProps<T>>\n  [REJECTED]: null | ReactElement<RejectedProps>\n}\n\ninterface AsyncState<T> {\n  promise: StatefulPromise<T>\n  data?: T\n  error?: Error\n}\n\nclass Async<T> extends Component<AsyncProps<T>, AsyncState<T>> {\n  public static Pending: typeof Pending = Pending\n  public static Rejected: typeof Rejected = Rejected\n  public static Resolved: typeof Resolved = Resolved\n  private static _emptyStateToChild: StateToChild = {\n    [PENDING]: null,\n    [RESOLVED]: null,\n    [REJECTED]: null,\n  }\n\n  public constructor(props: Async<T>['props']) {\n    super(props)\n    const promise: StatefulPromise<T> = new StatefulPromise(props.promise())\n    this.state = { promise }\n  }\n\n  public componentDidMount(): void {\n    this.state.promise.value\n      .then((result: T) =>\n        this.setState({\n          data: result,\n        }),\n      )\n      .catch((error: unknown) =>\n        this.setState({\n          error: error instanceof Error ? error : new Error(`${error}`),\n        }),\n      )\n  }\n\n  public render(): ReactNode {\n    const stateToChild: StateToChild<T> = this._getStateToChild()\n    let element: Optional<\n      ReactElement<ResolvedProps<T>> | ReactElement<RejectedProps>\n    > = null\n\n    switch (this.state.promise.state) {\n      case PENDING:\n        return stateToChild[PENDING]\n      case RESOLVED:\n        element = stateToChild[RESOLVED]\n        if (!element) return null\n        return cloneElement(element, { data: this.state.data })\n      case REJECTED:\n        element = stateToChild[REJECTED]\n        if (!element) return null\n        return cloneElement(element, { error: this.state.error })\n    }\n  }\n\n  private _getStateToChild(): StateToChild<T> {\n    const result: StateToChild = { ...Async._emptyStateToChild }\n    Children.forEach(this.props.children, (child: ReactChild) => {\n      if (typeof child !== 'object') return this._dieInvalidChild()\n\n      switch (child.type) {\n        case Pending:\n          result[PENDING] = result[PENDING] || child\n          break\n        case Resolved:\n          result[RESOLVED] = result[RESOLVED] || child\n          break\n        case Rejected:\n          result[REJECTED] = result[REJECTED] || child\n          break\n        default:\n          this._dieInvalidChild()\n      }\n    })\n\n    return result as StateToChild<T>\n  }\n\n  private _dieInvalidChild(): never {\n    throw new Error('use only Async.* components as a child to Async')\n  }\n}\n\nexport default Async\n","import { Grid } from '@material-ui/core'\nimport { StyleRules, withStyles, WithStyles } from '@material-ui/core/styles'\nimport React, { Component, ReactNode } from 'react'\n\nconst styles: StyleRules = {\n  container: {\n    height: '100vh',\n  },\n}\n\nclass FullPage extends Component<WithStyles> {\n  public render(): ReactNode {\n    const { classes }: FullPage['props'] = this.props\n\n    return (\n      <Grid\n        container\n        alignItems=\"center\"\n        justify=\"center\"\n        className={classes.container}\n      >\n        <Grid item>{this.props.children}</Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default withStyles(styles)(FullPage)\n","import {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core/styles'\nimport { AlertCircle } from 'mdi-material-ui'\nimport React, { Component, ReactNode } from 'react'\nimport FullPage from '../FullPage/FullPage'\n\nconst styles: StyleRulesCallback = (theme: Theme): StyleRules => ({\n  icon: {\n    fontSize: theme.typography.h1.fontSize,\n  },\n})\n\nclass ErrorPage extends Component<WithStyles> {\n  public render(): ReactNode {\n    const { classes }: ErrorPage['props'] = this.props\n\n    return (\n      <FullPage>\n        <AlertCircle className={classes.icon} color=\"error\" />\n      </FullPage>\n    )\n  }\n}\n\nexport default withStyles(styles)(ErrorPage)\n","import { CircularProgress } from '@material-ui/core'\nimport React, { Component, ReactNode } from 'react'\nimport FullPage from '../FullPage/FullPage'\n\nclass LoadingPage extends Component {\n  public render(): ReactNode {\n    return (\n      <FullPage>\n        <CircularProgress size={80} />\n      </FullPage>\n    )\n  }\n}\n\nexport default LoadingPage\n","import { i18n } from 'i18next'\nimport { Bind, Once } from 'lodash-decorators'\nimport React, { ReactNode } from 'react'\nimport { I18nextProvider } from 'react-i18next'\nimport Async from '../../Async/Async'\nimport ErrorPage from '../../ErrorPage/ErrorPage'\nimport { setup } from '../../i18n'\nimport LoadingPage from '../../LoadingPage/LoadingPage'\nimport { noop } from '../../util'\nimport { withStorage, WithStorage } from '../StorageProvider/StorageProvider'\n\ninterface LanguageProviderProps extends WithStorage<LanguageProviderState> {}\ninterface LanguageProviderState {\n  language: string\n}\n\nexport interface LanguageContextType {\n  selectedLanguage: string\n  setLanguage(language: string): void\n}\n\nconst DEFAULT_LANGUAGE: string = 'en-GB'\nexport const LanguageContext: React.Context<\n  LanguageContextType\n> = React.createContext({\n  selectedLanguage: DEFAULT_LANGUAGE,\n  setLanguage: noop,\n})\n\nclass LanguageProvider extends React.Component<\n  LanguageProviderProps,\n  LanguageProviderState\n> {\n  public state: LanguageProviderState = { language: DEFAULT_LANGUAGE }\n  constructor(props: LanguageProviderProps) {\n    super(props)\n    this.state = {\n      language: props.storage.get('language', DEFAULT_LANGUAGE),\n    }\n  }\n\n  public render(): ReactNode {\n    return (\n      <Async promise={this._i18n}>\n        <Async.Pending>\n          <LoadingPage />\n        </Async.Pending>\n        <Async.Resolved>\n          {(i18next: i18n): ReactNode => {\n            return (\n              <I18nextProvider i18n={i18next}>\n                <LanguageContext.Provider\n                  value={this._getLanguageContext(i18next)}\n                >\n                  {this.props.children}\n                </LanguageContext.Provider>\n              </I18nextProvider>\n            )\n          }}\n        </Async.Resolved>\n        <Async.Rejected>{(): ReactNode => <ErrorPage />}</Async.Rejected>\n      </Async>\n    )\n  }\n\n  private _getLanguageContext(i18next: i18n): LanguageContextType {\n    return {\n      selectedLanguage: this.state.language,\n      setLanguage: (language: string): void => {\n        if (this.state.language !== language) {\n          i18next.changeLanguage(language)\n          this.props.storage.set('language', language)\n          this.setState({ language })\n        }\n      },\n    }\n  }\n\n  @Bind()\n  @Once()\n  private _i18n(): Promise<i18n> {\n    return setup(this.state.language)\n  }\n}\n\nexport default withStorage('language')(LanguageProvider)\n","import { format as formatDate, formatDistance, Locale } from 'date-fns'\nimport i18next, { i18n } from 'i18next'\nimport { Optional } from '../types'\n\nexport function setup(initLanguage: string): Promise<i18n> {\n  let currentLocale: Locale | undefined\n\n  return new Promise(\n    (resolve: (i: i18n) => void, reject: (e: Error) => void): void => {\n      i18next\n        .use({\n          type: 'backend',\n          read(\n            language: string,\n            namespace: string,\n            callback: (err: Optional<Error>, result?: object) => void,\n          ): void {\n            import(`./locales/${language}/${namespace}.json`)\n              .then((result: object) => callback(null, result))\n              .catch(() => {\n                callback(null, {})\n              })\n          },\n        })\n        .init(\n          {\n            debug: false,\n            lng: initLanguage,\n            fallbackLng: false,\n            defaultNS: 'shared',\n            ns: 'shared',\n            interpolation: {\n              escapeValue: false,\n              formatSeparator: '|',\n              format(value: unknown, format?: string): string {\n                switch (format) {\n                  case 'distance': {\n                    if (typeof value !== 'number') {\n                      throw new Error('invalid distance value')\n                    }\n                    return formatDistance(new Date(1000 * value), new Date(), {\n                      addSuffix: true,\n                      locale: currentLocale,\n                    })\n                  }\n                  case 'date': {\n                    if (typeof value !== 'number') {\n                      throw new Error('invalid date value')\n                    }\n                    return formatDate(new Date(1000 * value), 'PP', {\n                      locale: currentLocale,\n                    })\n                  }\n                  default:\n                    if (format && format.startsWith('t ')) {\n                      return i18next.t(format.split('t ')[1])\n                    }\n                    throw new Error('formatter not implemented')\n                }\n              },\n            },\n            react: {\n              wait: true,\n            },\n            ...(process.env.NODE_ENV === 'development'\n              ? {\n                  saveMissing: true,\n                  missingKeyHandler(\n                    lngs: string[],\n                    ns: string,\n                    key: string,\n                    fallbackValue: string,\n                  ): void {\n                    // tslint:disable-next-line no-console\n                    console.warn('missing key:', lngs, ns, key, fallbackValue)\n                  },\n                }\n              : {}),\n          },\n          (error: unknown) => {\n            if (error) {\n              reject(new Error(`${error}`))\n            } else {\n              resolve(i18next)\n            }\n          },\n        )\n        .on('languageChanged', (language: string) => {\n          import(/* webpackInclude: /(en-GB|en-US)\\/index.js$/ */ `date-fns/locale/${language}`)\n            .then(\n              (locale: Locale): void => {\n                currentLocale = locale\n              },\n            )\n            .catch((error: Error) => {\n              if (process.env.NODE_ENV === 'development') {\n                // tslint:disable-next-line no-console\n                console.warn('locale not found', language, error)\n              }\n            })\n        })\n    },\n  )\n}\n","import { Typography } from '@material-ui/core'\nimport {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core/styles'\nimport { Bind, Memoize } from 'lodash-decorators'\nimport React, { Component, ComponentType, ReactNode } from 'react'\nimport { WithNamespaces, withNamespaces } from 'react-i18next'\nimport { getItem } from '../api'\nimport {\n  Comment,\n  Item,\n  ItemId,\n  Job,\n  Poll,\n  PollOption,\n  Story,\n  Subscriber,\n  Unsubscriber,\n} from '../api/types'\nimport ContentHtml from '../ContentHtml/ContentHtml'\nimport Link from '../Link/Link'\nimport ItemRoute from '../routes/ItemRoute/ItemRoute'\nimport UserRoute from '../routes/UserRoute/UserRoute'\nimport Time from '../Time/Time'\nimport { Optional } from '../types'\nimport { interleave } from '../util'\nimport WithUpdates, { WithUpdatesFrom } from '../WithUpdates/WithUpdates'\n\ninterface HeadlineProps {\n  id?: ItemId\n  item?: Item\n  expanded?: true\n}\n\nconst styles: StyleRulesCallback = (theme: Theme): StyleRules => ({\n  link: {\n    color: theme.palette.link.default,\n    '&:focus, &:active, &:visited': {\n      color: theme.palette.link.active,\n      outline: 'none',\n    },\n  },\n  inline: {\n    display: 'inline-block',\n  },\n  expandedText: {\n    marginTop: theme.spacing.unit,\n  },\n  pollOptions: {\n    paddingLeft: theme.spacing.unit * 4,\n  },\n})\n\ntype Core = Story | Job | Poll\nclass Headline extends Component<HeadlineProps & WithStyles & WithNamespaces> {\n  public render(): ReactNode {\n    const { item, id }: this['props'] = this.props\n\n    if (id) {\n      return (\n        <WithUpdates from={this._subscribe(id)}>{this._renderItem}</WithUpdates>\n      )\n    }\n\n    if (item) {\n      return this._renderItem(item)\n    }\n\n    throw new Error('either id or item should be provided')\n  }\n\n  @Bind()\n  @Memoize()\n  private _subscribe(id: ItemId): WithUpdatesFrom<Item> {\n    return (subscriber: Subscriber<Item>): Unsubscriber =>\n      getItem(id, subscriber)\n  }\n\n  @Bind()\n  private _renderItem(item?: Optional<Item>): ReactNode {\n    return <section>{item ? this._item(item) : this._empty()}</section>\n  }\n\n  private _empty(): ReactNode {\n    return (\n      <>\n        <Typography variant=\"body1\">???</Typography>\n        {this._caption(['???'])}\n      </>\n    )\n  }\n\n  private _item(item: Item): ReactNode {\n    switch (item.type) {\n      case 'story':\n        return this._core(item)\n      case 'job':\n        return this._core(item)\n      case 'poll':\n        return this._core(item)\n      case 'pollopt':\n        return this._pollOption(item)\n      case 'comment':\n        return this._comment(item)\n      default:\n        throw new Error(`unknown item type ${(item as Item).type}`)\n    }\n  }\n\n  private _core(item: Core): ReactNode {\n    return (\n      <>\n        {this._headerToUrlOrComments(item)}\n        {this._deriveCaption(item)}\n        {this._maybeText(item, true)}\n        {this._maybePollOptions(item)}\n      </>\n    )\n  }\n\n  private _pollOption({ text, score, poll }: PollOption): ReactNode {\n    const { t }: this['props'] = this.props\n\n    return (\n      <>\n        <Typography variant=\"body1\">{text}</Typography>\n        {this._caption([\n          t('points', { count: score }),\n          '|',\n          this._captionLink(\n            'parentPoll',\n            ItemRoute.makeURL({ id: poll }),\n            t('poll'),\n          ),\n        ])}\n      </>\n    )\n  }\n\n  private _comment(comment: Comment): ReactNode {\n    const { by, id, time, parent, dead, deleted }: Comment = comment\n    if (dead || deleted) return null\n    const { t }: this['props'] = this.props\n\n    return (\n      <>\n        {this._caption([\n          this._captionLink('by', UserRoute.makeURL({ id: by }), by),\n          this._captionLink(\n            'time',\n            ItemRoute.makeURL({ id }),\n            <Time distance={time} key=\"time\" />,\n          ),\n          '|',\n          this._captionLink(\n            'parent',\n            ItemRoute.makeURL({ id: parent }),\n            t('parent'),\n          ),\n        ])}\n        {this._maybeText(comment, false)}\n      </>\n    )\n  }\n\n  private _header(\n    external: boolean,\n    href: string,\n    children: ReactNode,\n  ): ReactNode {\n    const { classes }: this['props'] = this.props\n\n    return (\n      <Link\n        variant=\"body1\"\n        className={classes.link}\n        {...{ external, href, children }}\n      />\n    )\n  }\n\n  private _headerToUrlOrComments(item: Core): ReactNode {\n    const { id, title }: typeof item = item\n    return 'url' in item && item.url\n      ? this._header(true, item.url, title)\n      : this._header(false, ItemRoute.makeURL({ id }), title)\n  }\n\n  private _caption(content: ReactNode[]): ReactNode {\n    const { classes }: this['props'] = this.props\n\n    return (\n      <Typography\n        variant=\"caption\"\n        color=\"textSecondary\"\n        className={classes.inline}\n        component=\"aside\"\n      >\n        {interleave(content, ' ')}\n      </Typography>\n    )\n  }\n\n  private _captionLink(\n    key: string,\n    href: string,\n    children: ReactNode,\n  ): ReactNode {\n    const { classes }: this['props'] = this.props\n\n    return <Link className={classes.inline} {...{ key, href, children }} />\n  }\n\n  private _deriveCaption(item: Core): ReactNode {\n    const { t }: this['props'] = this.props\n    const { score, by, time, id }: typeof item = item\n\n    return this._caption([\n      t('points', { count: score }),\n      t('by'),\n      this._captionLink('by', UserRoute.makeURL({ id: by }), by),\n      this._captionLink(\n        'time',\n        ItemRoute.makeURL({ id }),\n        <Time distance={time} key=\"time\" />,\n      ),\n      ...('descendants' in item\n        ? [\n            '|',\n            this._captionLink(\n              'comments',\n              ItemRoute.makeURL({ id }),\n              t('comments', { count: item.descendants }),\n            ),\n          ]\n        : []),\n    ])\n  }\n\n  private _maybeText(item: Item, spaced: boolean): ReactNode {\n    const { expanded, classes }: this['props'] = this.props\n\n    return expanded && 'text' in item ? (\n      <ContentHtml className={spaced ? classes.expandedText : ''}>\n        {item.text}\n      </ContentHtml>\n    ) : null\n  }\n\n  private _maybePollOptions(item: Core): ReactNode {\n    const { expanded, classes }: this['props'] = this.props\n\n    return expanded && 'parts' in item ? (\n      <section className={classes.pollOptions}>\n        {item.parts.map(\n          (part: ItemId): ReactNode => (\n            <Self id={part} key={part} />\n          ),\n        )}\n      </section>\n    ) : null\n  }\n}\n\nconst Self: ComponentType<HeadlineProps> = withNamespaces('Headline')(\n  withStyles(styles)(Headline),\n)\nexport default Self\n","var map = {\n\t\"./en/Comment.json\": [\n\t\t3752,\n\t\t6\n\t],\n\t\"./en/EmptyPlaceholder.json\": [\n\t\t3753,\n\t\t7\n\t],\n\t\"./en/Header.json\": [\n\t\t3754,\n\t\t8\n\t],\n\t\"./en/Headline.json\": [\n\t\t3755,\n\t\t9\n\t],\n\t\"./en/HeadlineList.json\": [\n\t\t3756,\n\t\t10\n\t],\n\t\"./en/NotFoundRoute.json\": [\n\t\t3757,\n\t\t11\n\t],\n\t\"./en/Settings.json\": [\n\t\t3758,\n\t\t12\n\t],\n\t\"./en/Submissions.json\": [\n\t\t3759,\n\t\t13\n\t],\n\t\"./en/Thread.json\": [\n\t\t3760,\n\t\t14\n\t],\n\t\"./en/User.json\": [\n\t\t3761,\n\t\t15\n\t],\n\t\"./en/shared.json\": [\n\t\t3762,\n\t\t16\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 3721;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./en-GB\": [\n\t\t122,\n\t\t0\n\t],\n\t\"./en-GB/\": [\n\t\t122,\n\t\t0\n\t],\n\t\"./en-GB/index\": [\n\t\t122,\n\t\t0\n\t],\n\t\"./en-GB/index.js\": [\n\t\t122,\n\t\t0\n\t],\n\t\"./en-US\": [\n\t\t123,\n\t\t1\n\t],\n\t\"./en-US/\": [\n\t\t123,\n\t\t1\n\t],\n\t\"./en-US/index\": [\n\t\t123,\n\t\t1\n\t],\n\t\"./en-US/index.js\": [\n\t\t123,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 3722;\nmodule.exports = webpackAsyncContext;","import { Breakpoint as BreakpointId } from '@material-ui/core/styles/createBreakpoints'\nimport withWidth, { isWidthUp, WithWidth } from '@material-ui/core/withWidth'\nimport React, {\n  Children,\n  Component,\n  ComponentClass,\n  ComponentType,\n  Fragment,\n  ReactChild,\n  ReactElement,\n  ReactNode,\n} from 'react'\n\ninterface BreakpointProps {\n  at: BreakpointId\n}\n\ninterface JustChildren {\n  children: ReactNode\n}\nconst Up: ComponentType<JustChildren> = ({\n  children,\n}: JustChildren): ReactElement<{}> => <>{children}</>\nconst Down: ComponentType<JustChildren> = ({\n  children,\n}: JustChildren): ReactElement<{}> => <>{children}</>\n\nclass Breakpoint extends Component<BreakpointProps & WithWidth> {\n  public render(): ReactNode {\n    const up: boolean = isWidthUp(this.props.at, this.props.width)\n    let render: ReactNode = null\n    Children.forEach(\n      this.props.children,\n      (child: ReactChild): void => {\n        if (typeof child !== 'object') return this._dieInvalidChild()\n\n        switch (child.type) {\n          case Up:\n            if (up) {\n              render = render || child\n            }\n            break\n          case Down:\n            if (!up) {\n              render = render || child\n            }\n            break\n          default:\n            this._dieInvalidChild()\n        }\n      },\n    )\n\n    return render\n  }\n  private _dieInvalidChild(): void {\n    throw new Error('use only Breakpoint.* components as a child to Breakpoint')\n  }\n}\n\nexport default Object.assign(withWidth()(Breakpoint), { Up, Down })\n","import { IconButton } from '@material-ui/core'\nimport { Bind } from 'lodash-decorators'\nimport { Settings as SettingsIcon } from 'mdi-material-ui'\nimport React, { Component, lazy, ReactNode } from 'react'\nimport { withNamespaces, WithNamespaces } from 'react-i18next'\nimport OnDemand from '../../OnDemand/OnDemand'\nimport WithToggle from '../../WithToggle/WithToggle'\n\n// tslint:disable-next-line:typedef\nconst Dialog = lazy(() => import('./Dialog/Dialog'))\n\nclass Settings extends Component<WithNamespaces> {\n  public render(): ReactNode {\n    return <WithToggle initial={false}>{this._withToggle}</WithToggle>\n  }\n\n  @Bind()\n  private _withToggle(open: boolean, toggle: () => void): ReactNode {\n    return (\n      <>\n        <IconButton\n          onClick={toggle}\n          color=\"inherit\"\n          aria-label={this.props.t('settings')}\n          aria-haspopup\n        >\n          <SettingsIcon />\n        </IconButton>\n        <OnDemand render={open}>\n          <Dialog open={open} toggle={toggle} />\n        </OnDemand>\n      </>\n    )\n  }\n}\n\nexport default withNamespaces('Settings')(Settings)\n","import { AppBar, Toolbar } from '@material-ui/core'\nimport {\n  StyleRules,\n  StyleRulesCallback,\n  Theme,\n  WithStyles,\n  withStyles,\n} from '@material-ui/core/styles'\nimport React, { Component, lazy, ReactNode, Suspense } from 'react'\nimport Breakpoint from '../Breakpoint/Breakpoint'\nimport Settings from './Settings/Settings'\n\n// tslint:disable:typedef\nconst Desktop = lazy(() => import('./Desktop/Desktop'))\nconst Mobile = lazy(() => import('./Mobile/Mobile'))\n// tslint:enable:typedef\n\nconst styles: StyleRulesCallback = (theme: Theme): StyleRules => ({\n  toolbar: {\n    maxWidth: theme.mixins.toolbarMaxWidth,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  spacer: {\n    flexGrow: 1,\n  },\n  contentShift: {\n    ...theme.mixins.toolbar,\n    display: 'block',\n  },\n})\n\nclass Header extends Component<WithStyles> {\n  public render(): ReactNode {\n    const { classes }: Header['props'] = this.props\n\n    return (\n      <>\n        <AppBar>\n          <Toolbar className={classes.toolbar}>\n            <Suspense fallback=\"\">\n              <Breakpoint at=\"sm\">\n                <Breakpoint.Up>\n                  <Desktop />\n                </Breakpoint.Up>\n                <Breakpoint.Down>\n                  <Mobile />\n                </Breakpoint.Down>\n              </Breakpoint>\n            </Suspense>\n            <span className={classes.spacer} />\n            <Settings />\n          </Toolbar>\n        </AppBar>\n        <span className={classes.contentShift} />\n      </>\n    )\n  }\n}\n\nexport default withStyles(styles)(Header)\n","import React, { Component, ReactNode } from 'react'\nimport { HashRouter } from 'react-router-dom'\nimport LanguageProvider from './LanguageProvider/LanguageProvider'\nimport StorageProvider from './StorageProvider/StorageProvider'\nimport ThemeProvider from './ThemeProvider/ThemeProvider'\n\nclass Root extends Component {\n  public render(): ReactNode {\n    return (\n      <StorageProvider>\n        <HashRouter>\n          <ThemeProvider>\n            <LanguageProvider>{this.props.children}</LanguageProvider>\n          </ThemeProvider>\n        </HashRouter>\n      </StorageProvider>\n    )\n  }\n}\n\nexport default Root\n","import { TranslationFunction } from 'i18next'\nimport React, { ReactNode } from 'react'\nimport { NamespacesConsumer } from 'react-i18next'\nimport { Route } from 'react-router-dom'\nimport DocumentTitle from '../../DocumentTitle/DocumentTitle'\nimport EmptyPlaceHolder from '../../EmptyPlaceholder/EmptyPlaceHolder'\nimport { RouteConfig, withSuspense } from '../util'\n\nclass NotFoundRoute implements RouteConfig {\n  public makeURL(): never {\n    throw new Error('cannot make 404 URL')\n  }\n\n  public use(): ReactNode {\n    return withSuspense(\n      <Route>\n        <NamespacesConsumer ns={'NotFoundRoute'}>\n          {this._render}\n        </NamespacesConsumer>\n      </Route>,\n    )\n  }\n\n  private _render(t: TranslationFunction): ReactNode {\n    return (\n      <>\n        <DocumentTitle>{t('title')}</DocumentTitle>\n        <EmptyPlaceHolder message={t('empty')} />\n      </>\n    )\n  }\n}\n\nexport default new NotFoundRoute()\n","import React, { ReactNode } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport FeedRoute from '../FeedRoute/FeedRoute'\nimport { AbstractRouteConfig } from '../util'\n\nclass RootRoute extends AbstractRouteConfig {\n  protected URL: string = '/'\n  public use(): ReactNode {\n    return (\n      <Redirect from={this.URL} to={FeedRoute.makeURL({ feed: 'top' })} exact />\n    )\n  }\n}\n\nexport default new RootRoute()\n","import React, { Component } from 'react'\nimport { Switch } from 'react-router-dom'\nimport Header from '../Header/Header'\nimport Root from '../Root/Root'\nimport FeedRoute from '../routes/FeedRoute/FeedRoute'\nimport ItemRoute from '../routes/ItemRoute/ItemRoute'\nimport NotFoundRoute from '../routes/NotFoundRoute/NotFoundRoute'\nimport RootRoute from '../routes/RootRoute/RootRoute'\nimport UserRoute from '../routes/UserRoute/UserRoute'\n\nimport '../Headline/Headline'\n\nclass App extends Component {\n  public render(): JSX.Element {\n    return (\n      <Root>\n        <Header />\n        <main>\n          <Switch>\n            {RootRoute.use()}\n            {FeedRoute.use()}\n            {ItemRoute.use()}\n            {UserRoute.use()}\n            {NotFoundRoute.use()}\n          </Switch>\n        </main>\n      </Root>\n    )\n  }\n}\n\nexport default App\n","import 'typeface-roboto'\n\nimport React from 'react'\nimport reactDom from 'react-dom'\n\nimport App from './App/App'\n\n// import { register } from './serviceWorker/serviceWorker'\n// register()\n\nreactDom.render(<App />, document.getElementById('root'))\n","import { Memoize } from 'lodash-decorators'\nimport { compile } from 'path-to-regexp'\nimport { ReactNode } from 'react'\nimport { AnyRecord } from '../../types'\nimport { RouteConfig } from './RouteConfig'\n\nexport abstract class AbstractRouteConfig<Params extends AnyRecord = {}>\n  implements RouteConfig<Params> {\n  protected abstract URL: string\n\n  public abstract use(): ReactNode\n\n  public makeURL(params: Params): string {\n    const fn: this['makeURL'] = this._compileURL(this.URL)\n    return fn(params)\n  }\n\n  @Memoize()\n  private _compileURL(URL: string): this['makeURL'] {\n    return compile(URL)\n  }\n}\n","import { Bind } from 'lodash-decorators'\nimport React, { ReactNode } from 'react'\nimport { Route, RouteComponentProps } from 'react-router-dom'\nimport { AnyRecord } from '../../types'\nimport { AbstractRouteConfig } from './AbstractRouteConfig'\n\nexport type AsString<T extends AnyRecord> = {\n  [k in keyof T]: T[k] extends string ? T[k] : string\n}\n\nexport abstract class SimpleRouteConfig<\n  Params extends AnyRecord = {}\n> extends AbstractRouteConfig<Params> {\n  public use(): ReactNode {\n    return <Route path={this.URL}>{this._translateParams}</Route>\n  }\n\n  protected abstract translateParams(params: AsString<Params>): ReactNode\n\n  @Bind()\n  private _translateParams({\n    match,\n  }: RouteComponentProps<AsString<Params>>): ReactNode {\n    return match ? this.translateParams(match.params) : null\n  }\n}\n","import { LinearProgress } from '@material-ui/core'\nimport React, { ReactNode, Suspense } from 'react'\n\nexport function withSuspense(\n  children: ReactNode,\n  fallback: ReactNode = <LinearProgress />,\n): ReactNode {\n  return <Suspense {...{ children, fallback }} />\n}\n","import { RouteConfig } from './RouteConfig'\n\nexport type RouteConfig = RouteConfig\nexport * from './AbstractRouteConfig'\nexport * from './SimpleRouteConfig'\nexport * from './withSuspense'\n","import React, { lazy, ReactNode } from 'react'\nimport { ItemId } from '../../api/types'\nimport { AsString, SimpleRouteConfig, withSuspense } from '../util'\n\n// tslint:disable-next-line:typedef\nconst Thread = lazy(() => import('../../Thread/Thread'))\n\ninterface ItemRouteParams {\n  id: ItemId\n}\n\nclass ItemRoute extends SimpleRouteConfig<ItemRouteParams> {\n  protected URL: string = '/item/:id(\\\\d+)'\n  protected translateParams({ id }: AsString<ItemRouteParams>): ReactNode {\n    return withSuspense(<Thread id={Number(id)} />)\n  }\n}\n\nexport default new ItemRoute()\n","import { AnyRecord } from '../../../types'\nimport { Storage as StorageInterface } from '../interfaces'\n\nabstract class NamespacedAbstractStorage<T extends AnyRecord>\n  implements StorageInterface<T> {\n  private _cache: T\n\n  constructor(private _namespace: string) {\n    this._cache = this._decode()\n  }\n\n  public get<Key extends keyof T>(key: Key): T[Key] | undefined\n  public get<Key extends keyof T, Otherwise>(\n    key: Key,\n    otherwise?: Otherwise,\n  ): T[Key] | Otherwise {\n    return (this._cache[key] || otherwise) as T[Key] | Otherwise\n  }\n\n  public set<Key extends keyof T>(key: Key, value: T[Key]): void {\n    this._cache[key] = value\n    this._encode()\n  }\n\n  public delete<Key extends keyof T>(key: Key): void {\n    delete this._cache[key]\n    this._encode()\n  }\n\n  protected abstract get storage(): Storage\n\n  private _decode(): T {\n    return JSON.parse(this.storage.getItem(this._namespace) || '{}')\n  }\n\n  private _encode(): void {\n    this.storage.setItem(this._namespace, JSON.stringify(this._cache))\n  }\n}\n\nexport default NamespacedAbstractStorage\n","import mem from 'mem'\nimport { AnyRecord } from '../../../types'\nimport { Storage as StorageInterface, StorageFactory } from '../interfaces'\nimport NamespacedAbstractStorage from '../NamespacedAbstractStorage/NamespacedAbstractStorage'\n\nclass LocalStorage<T extends AnyRecord> extends NamespacedAbstractStorage<T> {\n  public static create: StorageFactory['create'] = mem<\n    StorageFactory['create']\n  >(\n    <T extends AnyRecord>(namespace: string): StorageInterface<T> => {\n      return new LocalStorage(namespace)\n    },\n  )\n\n  protected get storage(): Storage {\n    if (!window.localStorage) {\n      throw new Error('no local storage')\n    }\n\n    return localStorage\n  }\n}\n\nexport default LocalStorage as StorageFactory\n","import mem from 'mem'\nimport { AnyRecord } from '../../../types'\nimport { Storage as StorageInterface, StorageFactory } from '../interfaces'\nimport NamespacedAbstractStorage from '../NamespacedAbstractStorage/NamespacedAbstractStorage'\n\nclass SessionStorage<T extends AnyRecord> extends NamespacedAbstractStorage<T> {\n  public static create: StorageFactory['create'] = mem<\n    StorageFactory['create']\n  >(\n    <T extends AnyRecord>(namespace: string): StorageInterface<T> => {\n      return new SessionStorage(namespace)\n    },\n  )\n\n  protected get storage(): Storage {\n    if (!window.sessionStorage) {\n      throw new Error('no session storage')\n    }\n\n    return sessionStorage\n  }\n}\n\nexport default SessionStorage as StorageFactory\n","import { Bind } from 'lodash-decorators'\nimport React, {\n  Component,\n  ComponentType,\n  Context,\n  createContext,\n  ReactElement,\n  ReactNode,\n} from 'react'\nimport { AnyRecord } from '../../types'\nimport { noop } from '../../util'\nimport { Storage } from './interfaces'\nimport LocalStorage from './LocalStorage/LocalStorage'\nimport SessionStorage from './SessionStorage/SessionStorage'\n\nexport type Storage<T extends AnyRecord> = Storage<T>\nexport enum StorageType {\n  LOCAL,\n  SESSION,\n}\nexport const { LOCAL, SESSION }: typeof StorageType = StorageType\n\ninterface StorageContextType {\n  getStore<T extends AnyRecord>(\n    namespace: string,\n    type?: StorageType,\n  ): Storage<T>\n}\n\nconst StorageContext: Context<StorageContextType> = createContext({\n  getStore: noop,\n} as StorageContextType)\n\nexport function StorageConsumer<T>({\n  namespace,\n  type,\n  children,\n}: {\n  namespace: string\n  type?: StorageType\n  children: (storage: Storage<T>) => ReactNode\n}): ReactElement<{}> {\n  return (\n    <StorageContext.Consumer>\n      {(context: StorageContextType): ReactNode =>\n        children(context.getStore(namespace, type))\n      }\n    </StorageContext.Consumer>\n  )\n}\n\nexport interface WithStorage<T> {\n  storage: Storage<T>\n}\ntype WithoutStorage<P> = Pick<P, Exclude<keyof P, 'storage'>>\n\nexport function withStorage<T extends AnyRecord>(\n  namespace: string,\n  type?: StorageType,\n): <P extends WithStorage<T>>(\n  Cmp: ComponentType<P>,\n) => ComponentType<WithoutStorage<P>> {\n  return <P extends WithStorage<T>>(\n    Cmp: ComponentType<P>,\n  ): ComponentType<WithoutStorage<P>> => {\n    return function WithStorageCmp(props: WithoutStorage<P>): ReactElement<{}> {\n      return (\n        <StorageContext.Consumer>\n          {(context: StorageContextType): ReactElement<{}> => {\n            const p: P = {\n              ...props,\n              storage: context.getStore(namespace, type),\n            } as P\n            return <Cmp {...p} />\n          }}\n        </StorageContext.Consumer>\n      )\n    }\n  }\n}\n\nclass StorageProvider extends Component {\n  public render(): ReactNode {\n    return (\n      <StorageContext.Provider\n        value={{\n          getStore: this._getStore,\n        }}\n      >\n        {this.props.children}\n      </StorageContext.Provider>\n    )\n  }\n\n  @Bind()\n  private _getStore<T extends AnyRecord>(\n    namespace: string,\n    type: StorageType = LOCAL,\n  ): Storage<T> {\n    switch (type) {\n      case LOCAL:\n        return LocalStorage.create(namespace)\n      case SESSION:\n        return SessionStorage.create(namespace)\n    }\n  }\n}\n\nexport default StorageProvider\n","import React, { lazy, ReactNode } from 'react'\nimport { UserId } from '../../api/types'\nimport { AsString, SimpleRouteConfig, withSuspense } from '../util'\n\n// tslint:disable-next-line:typedef\nconst User = lazy(() => import('../../User/User'))\n\ninterface UserRouteParams {\n  id: UserId\n}\n\nclass UserRoute extends SimpleRouteConfig<UserRouteParams> {\n  protected URL: string = '/user/:id'\n  protected translateParams({ id }: AsString<UserRouteParams>): ReactNode {\n    return withSuspense(<User id={id} />)\n  }\n}\n\nexport default new UserRoute()\n","import React, { lazy, ReactNode } from 'react'\nimport { AsString, SimpleRouteConfig, withSuspense } from '../util'\n\n// tslint:disable-next-line:typedef\nconst HeadlineList = lazy(() => import('../../HeadlineList/HeadlineList'))\n\nexport type MainFeed = 'top' | 'new' | 'best' | 'ask' | 'show' | 'job'\nexport const feeds: MainFeed[] = ['top', 'new', 'best', 'ask', 'show', 'job']\n\ninterface FeedRouteParams {\n  feed: MainFeed\n  page?: number\n}\n\nclass FeedRoute extends SimpleRouteConfig<FeedRouteParams> {\n  protected URL: string = `/:feed(${feeds.join('|')})/:page(\\\\d+)?`\n  protected translateParams({\n    feed,\n    page,\n  }: AsString<FeedRouteParams>): ReactNode {\n    return withSuspense(<HeadlineList feed={feed} page={Number(page || '0')} />)\n  }\n}\n\nexport default new FeedRoute()\n"],"sourceRoot":""}