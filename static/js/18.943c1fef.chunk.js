(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{3765:function(e,t,n){"use strict";n.r(t);var r,a,i,o,c,s,l,p,u,m=n(3),d=n(4),b=n(6),y=n(5),h=n(7),g=n(28),f=n(17),O=n(19),j=n(21),k=n(0),_=n.n(k),v=n(42),E=n(161),x=n(277),w=n(36),C=n(62),N=n(165),W=n(115),B=n(72),S=n(51),D=n(86),T=n(158),L=n(164),M=n(162),P=(r=Object(j.Bind)(),a=Object(j.Bind)(),i=Object(j.Bind)(),o=Object(j.Memoize)(),c=function(e){function t(){return Object(m.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return _.a.createElement(M.a,{from:this._subscribe(this.props.id)},this._renderComment)}},{key:"_renderComment",value:function(e){var t=this;if(!e)return null;var n=e.by,r=e.text,a=e.time,i=e.dead,o=e.deleted;if(i||o)return null;var c=this.props,s=c.classes,l=c.storage,p=c.id,u=c.t,m="comment-".concat(p);return _.a.createElement(L.a,{initial:!!l.get(p),onChange:this._onToggle},function(i,o){return _.a.createElement(f.k,{container:!0,className:s.root,component:"section"},_.a.createElement(f.k,{item:!0,className:s.barContainer},_.a.createElement("button",{className:s.bar,onClick:o,"aria-label":u("collapse"),"aria-controls":m,"aria-expanded":!i})),_.a.createElement(f.k,{item:!0,className:s.content,id:m,"aria-hidden":i},_.a.createElement(f.t,{variant:"caption",color:"textSecondary",className:s.inline,component:"aside"},[_.a.createElement(W.a,{key:"user",href:D.a.makeURL({id:n}),className:s.inline},n)," ",_.a.createElement(W.a,{key:"time",href:S.a.makeURL({id:p}),className:s.inline},_.a.createElement(T.a,{distance:a}))].concat(Object(x.a)(i?[" ",_.a.createElement(f.b,{key:"expand",className:s.expandButton,onClick:o,"aria-label":u("expand"),disableRipple:!0},"[+]")]:[]))),i?null:_.a.createElement(_.a.Fragment,null,_.a.createElement(N.a,null,r),t._renderKids(e))))})}},{key:"_renderKids",value:function(e){return e.kids?e.kids.map(function(e){return _.a.createElement(U,{key:e,id:e})}):null}},{key:"_onToggle",value:function(e){var t=this.props,n=t.storage,r=t.id;e?n.set(r,!0):n.delete(r)}},{key:"_subscribe",value:function(e){return function(t){return Object(E.c)(e,t)}}}]),t}(k.Component),Object(g.a)(c.prototype,"_renderComment",[r],Object.getOwnPropertyDescriptor(c.prototype,"_renderComment"),c.prototype),Object(g.a)(c.prototype,"_onToggle",[a],Object.getOwnPropertyDescriptor(c.prototype,"_onToggle"),c.prototype),Object(g.a)(c.prototype,"_subscribe",[i,o],Object.getOwnPropertyDescriptor(c.prototype,"_subscribe"),c.prototype),c),U=Object(B.c)("comment",B.a)(Object(v.c)("Comment")(Object(O.withStyles)(function(e){return{root:{"& + &, & &":{marginTop:e.spacing.unit}},inline:{display:"inline-block"},bar:{background:"none",border:0,color:"inherit",font:"inherit",lineHeight:"normal",overflow:"visible",padding:0,outline:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none","&::-moz-focus-inner":{border:0,padding:0},width:"100%",height:"100%",minWidth:0,minHeight:0,boxShadow:e.shadows[0],cursor:"pointer",borderLeft:"".concat(e.spacing.unit/4,"px solid ").concat(C.grey[400]),"&:hover, &:focus, &:active":{borderLeftColor:C.grey[600]}},barContainer:{flex:"0 0 ".concat(1.5*e.spacing.unit,"px"),marginRight:.25*e.spacing.unit},content:{flex:"1 0 0",maxWidth:"calc(100% - ".concat(1.75*e.spacing.unit,"px)")},expandButton:Object(w.a)({},e.typography.caption,{padding:0,minWidth:0,minHeight:0,marginLeft:e.spacing.unit,color:e.palette.text.secondary,"&:hover, &:focus, &:active":{fontWeight:e.typography.fontWeightMedium,textDecoration:"underline"}})}})(P))),z=U,I=n(163),R=n(282),F=(s=Object(j.Bind)(),l=Object(j.Bind)(),p=Object(j.Memoize)(),u=function(e){function t(){return Object(m.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.id;return _.a.createElement(f.k,{container:!0,justify:"center"},_.a.createElement(f.k,{item:!0,container:!0,direction:"column",className:t.container,component:"article"},_.a.createElement(M.a,{from:this._subscribe(n)},this._renderItem)))}},{key:"_renderItem",value:function(e){return void 0===e?null:null===e?this._empty():_.a.createElement(_.a.Fragment,null,_.a.createElement(R.a,{id:this.props.id,expanded:!0}),this._renderComments(e))}},{key:"_empty",value:function(){return _.a.createElement(I.a,{message:this.props.t("empty")})}},{key:"_renderComments",value:function(e){return"kids"in e?_.a.createElement(_.a.Fragment,null,_.a.createElement("span",{className:this.props.classes.spacer}),e.kids.map(function(e){return _.a.createElement(z,{id:e,key:e})})):null}},{key:"_subscribe",value:function(e){return function(t){return Object(E.c)(e,t)}}}]),t}(k.Component),Object(g.a)(u.prototype,"_renderItem",[s],Object.getOwnPropertyDescriptor(u.prototype,"_renderItem"),u.prototype),Object(g.a)(u.prototype,"_subscribe",[l,p],Object.getOwnPropertyDescriptor(u.prototype,"_subscribe"),u.prototype),u);t.default=Object(v.c)("Thread")(Object(O.withStyles)(function(e){return{container:{maxWidth:e.mixins.appMaxWidth,padding:e.spacing.unit},spacer:{margin:e.spacing.unit}}})(F))}}]);
//# sourceMappingURL=18.943c1fef.chunk.js.map